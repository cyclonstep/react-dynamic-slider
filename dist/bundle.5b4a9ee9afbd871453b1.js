!function(e){function t(t){for(var n,o,a=t[0],i=t[1],s=t[2],u=0,l=[];u<a.length;u++)o=a[u],T[o]&&l.push(T[o][0]),T[o]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);for(D&&D(t);l.length;)l.shift()();return x.push.apply(x,s||[]),r()}function r(){for(var e,t=0;t<x.length;t++){for(var r=x[t],n=!0,o=1;o<r.length;o++){var a=r[o];0!==T[a]&&(n=!1)}n&&(x.splice(t--,1),e=j(j.s=r[0]))}return e}var n=window.webpackHotUpdate;window.webpackHotUpdate=function(e,t){!function(e,t){if(!w[e]||!k[e])return;for(var r in k[e]=!1,t)Object.prototype.hasOwnProperty.call(t,r)&&(m[r]=t[r]);0==--b&&0===y&&O()}(e,t),n&&n(e,t)};var o,a=!0,i="5b4a9ee9afbd871453b1",s=1e4,u={},l=[],c=[];var d=[],p="idle";function f(e){p=e;for(var t=0;t<d.length;t++)d[t].call(null,e)}var h,m,v,b=0,y=0,g={},k={},w={};function M(e){return+e+""===e?+e:e}function _(e){if("idle"!==p)throw new Error("check() is only allowed in idle status");return a=e,f("check"),(t=s,t=t||1e4,new Promise(function(e,r){if("undefined"==typeof XMLHttpRequest)return r(new Error("No browser support"));try{var n=new XMLHttpRequest,o=j.p+""+i+".hot-update.json";n.open("GET",o,!0),n.timeout=t,n.send(null)}catch(e){return r(e)}n.onreadystatechange=function(){if(4===n.readyState)if(0===n.status)r(new Error("Manifest request to "+o+" timed out."));else if(404===n.status)e();else if(200!==n.status&&304!==n.status)r(new Error("Manifest request to "+o+" failed."));else{try{var t=JSON.parse(n.responseText)}catch(e){return void r(e)}e(t)}}})).then(function(e){if(!e)return f("idle"),null;k={},g={},w=e.c,v=e.h,f("prepare");var t=new Promise(function(e,t){h={resolve:e,reject:t}});for(var r in m={},T)P(r);return"prepare"===p&&0===y&&0===b&&O(),t});var t}function P(e){w[e]?(k[e]=!0,b++,function(e){var t=document.getElementsByTagName("head")[0],r=document.createElement("script");r.charset="utf-8",r.src=j.p+""+e+"."+i+".hot-update.js",t.appendChild(r)}(e)):g[e]=!0}function O(){f("ready");var e=h;if(h=null,e)if(a)Promise.resolve().then(function(){return E(a)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var r in m)Object.prototype.hasOwnProperty.call(m,r)&&t.push(M(r));e.resolve(t)}}function E(t){if("ready"!==p)throw new Error("apply() is only allowed in ready status");var r,n,o,a,s;function c(e){for(var t=[e],r={},n=t.slice().map(function(e){return{chain:[e],id:e}});n.length>0;){var o=n.pop(),i=o.id,s=o.chain;if((a=S[i])&&!a.hot._selfAccepted){if(a.hot._selfDeclined)return{type:"self-declined",chain:s,moduleId:i};if(a.hot._main)return{type:"unaccepted",chain:s,moduleId:i};for(var u=0;u<a.parents.length;u++){var l=a.parents[u],c=S[l];if(c){if(c.hot._declinedDependencies[i])return{type:"declined",chain:s.concat([l]),moduleId:i,parentId:l};t.includes(l)||(c.hot._acceptedDependencies[i]?(r[l]||(r[l]=[]),d(r[l],[i])):(delete r[l],t.push(l),n.push({chain:s.concat([l]),id:l})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:r}}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];e.includes(n)||e.push(n)}}t=t||{};var h={},b=[],y={},g=function(){console.warn("[HMR] unexpected require("+_.moduleId+") to disposed module")};for(var k in m)if(Object.prototype.hasOwnProperty.call(m,k)){var _;s=M(k);var P=!1,O=!1,E=!1,x="";switch((_=m[k]?c(s):{type:"disposed",moduleId:k}).chain&&(x="\nUpdate propagation: "+_.chain.join(" -> ")),_.type){case"self-declined":t.onDeclined&&t.onDeclined(_),t.ignoreDeclined||(P=new Error("Aborted because of self decline: "+_.moduleId+x));break;case"declined":t.onDeclined&&t.onDeclined(_),t.ignoreDeclined||(P=new Error("Aborted because of declined dependency: "+_.moduleId+" in "+_.parentId+x));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(_),t.ignoreUnaccepted||(P=new Error("Aborted because "+s+" is not accepted"+x));break;case"accepted":t.onAccepted&&t.onAccepted(_),O=!0;break;case"disposed":t.onDisposed&&t.onDisposed(_),E=!0;break;default:throw new Error("Unexception type "+_.type)}if(P)return f("abort"),Promise.reject(P);if(O)for(s in y[s]=m[s],d(b,_.outdatedModules),_.outdatedDependencies)Object.prototype.hasOwnProperty.call(_.outdatedDependencies,s)&&(h[s]||(h[s]=[]),d(h[s],_.outdatedDependencies[s]));E&&(d(b,[_.moduleId]),y[s]=g)}var V,C=[];for(n=0;n<b.length;n++)s=b[n],S[s]&&S[s].hot._selfAccepted&&C.push({module:s,errorHandler:S[s].hot._selfAccepted});f("dispose"),Object.keys(w).forEach(function(e){!1===w[e]&&function(e){delete T[e]}(e)});for(var I,D,N=b.slice();N.length>0;)if(s=N.pop(),a=S[s]){var R={},z=a.hot._disposeHandlers;for(o=0;o<z.length;o++)(r=z[o])(R);for(u[s]=R,a.hot.active=!1,delete S[s],delete h[s],o=0;o<a.children.length;o++){var A=S[a.children[o]];A&&((V=A.parents.indexOf(s))>=0&&A.parents.splice(V,1))}}for(s in h)if(Object.prototype.hasOwnProperty.call(h,s)&&(a=S[s]))for(D=h[s],o=0;o<D.length;o++)I=D[o],(V=a.children.indexOf(I))>=0&&a.children.splice(V,1);for(s in f("apply"),i=v,y)Object.prototype.hasOwnProperty.call(y,s)&&(e[s]=y[s]);var H=null;for(s in h)if(Object.prototype.hasOwnProperty.call(h,s)&&(a=S[s])){D=h[s];var L=[];for(n=0;n<D.length;n++)if(I=D[n],r=a.hot._acceptedDependencies[I]){if(L.includes(r))continue;L.push(r)}for(n=0;n<L.length;n++){r=L[n];try{r(D)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:s,dependencyId:D[n],error:e}),t.ignoreErrored||H||(H=e)}}}for(n=0;n<C.length;n++){var X=C[n];s=X.module,l=[s];try{j(s)}catch(e){if("function"==typeof X.errorHandler)try{X.errorHandler(e)}catch(r){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:s,error:r,originalError:e}),t.ignoreErrored||H||(H=r),H||(H=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:s,error:e}),t.ignoreErrored||H||(H=e)}}return H?(f("fail"),Promise.reject(H)):(f("idle"),new Promise(function(e){e(b)}))}var S={},T={1:0},x=[];function j(t){if(S[t])return S[t].exports;var r=S[t]={i:t,l:!1,exports:{},hot:function(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:o!==e,active:!0,accept:function(e,r){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._acceptedDependencies[e[n]]=r||function(){};else t._acceptedDependencies[e]=r||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._declinedDependencies[e[r]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var r=t._disposeHandlers.indexOf(e);r>=0&&t._disposeHandlers.splice(r,1)},check:_,apply:E,status:function(e){if(!e)return p;d.push(e)},addStatusHandler:function(e){d.push(e)},removeStatusHandler:function(e){var t=d.indexOf(e);t>=0&&d.splice(t,1)},data:u[e]};return o=void 0,t}(t),parents:(c=l,l=[],c),children:[]};return e[t].call(r.exports,r,r.exports,function(e){var t=S[e];if(!t)return j;var r=function(r){return t.hot.active?(S[r]?S[r].parents.includes(e)||S[r].parents.push(e):(l=[e],o=r),t.children.includes(r)||t.children.push(r)):(console.warn("[HMR] unexpected require("+r+") from disposed module "+e),l=[]),j(r)},n=function(e){return{configurable:!0,enumerable:!0,get:function(){return j[e]},set:function(t){j[e]=t}}};for(var a in j)Object.prototype.hasOwnProperty.call(j,a)&&"e"!==a&&Object.defineProperty(r,a,n(a));return r.e=function(e){return"ready"===p&&f("prepare"),y++,j.e(e).then(t,function(e){throw t(),e});function t(){y--,"prepare"===p&&(g[e]||P(e),0===y&&0===b&&O())}},r}(t)),r.l=!0,r.exports}j.m=e,j.c=S,j.d=function(e,t,r){j.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},j.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},j.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return j.d(t,"a",t),t},j.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},j.p="/",j.h=function(){return i};var V=window.webpackJsonp=window.webpackJsonp||[],C=V.push.bind(V);V.push=t,V=V.slice();for(var I=0;I<V.length;I++)t(V[I]);var D=C;x.push([27,0]),r()}({26:function(e,t,r){"use strict";var n=i(r(0)),o=i(r(21)),a=i(r(9));function i(e){return e&&e.__esModule?e:{default:e}}var s=document.getElementById("app");o.default.render(n.default.createElement(a.default,null),s)},27:function(e,t,r){e.exports=r(26)},3:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0),a=s(o),i=s(r(1));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"render",value:function(){var e=this.props,t=e.clsName,r=e.color,n=e.defaultMarker,o=e.position,i=e.sliderSize,s=e.markerSize,u=e.markerNumber,l={position:"absolute",left:o+"%",top:"0px",bottom:void 0,marginTop:.5*(i-s)+"px",marginLeft:"-"+.5*s+"px",marginBottom:void 0,display:0===o?"none":"block"};if(!this.props.customMarker){var c={backgroundColor:r,borderRadius:"100%",height:s+"px",width:s+"px"};n=a.default.createElement("div",{style:c})}return a.default.createElement("div",{className:t+"-"+u+"-marker",style:l},this.props.customMarker,n&&n)}}]),t}();t.default=u,u.propTypes={clsName:i.default.string,color:i.default.string,customMarker:i.default.node,offsetLeft:i.default.number,offsetTop:i.default.number,position:i.default.number,sliderSize:i.default.number,markerSize:i.default.number,markerNumber:i.default.number},u.defaultProps={clsName:"dynamic-slider",position:0}},4:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0),a=s(o),i=s(r(1));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"render",value:function(){var e=this.props,t=e.length,r=e.clsName,n={backgroundColor:this.props.color,get width(){return t?t+"%":"0%"},position:"absolute",bottom:0,height:"100%"};return console.log(n),a.default.createElement("div",{className:r+"-track",style:n})}}]),t}();t.default=u,u.propTypes={clsName:i.default.string,color:i.default.string,length:i.default.number},u.defaultProps={clsName:"dynamic-slider"}},5:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0),a=s(o),i=s(r(1));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"render",value:function(){var e=this.props,t=e.clsName,r=e.color,n=e.defaultThumb,o=e.position,i=e.sliderSize,s=e.thumbSize;console.log("position: "+this.props.position);var u={position:"absolute",left:o+"%",top:"0px",bottom:void 0,marginTop:.5*(i-s)+"px",marginLeft:"-"+.5*s+"px",marginBottom:void 0};if(!this.props.customThumb){var l={backgroundColor:r,borderRadius:"100%",height:s+"px",width:s+"px"};n=a.default.createElement("div",{style:l})}return a.default.createElement("div",{className:t+"-thumb",style:u},this.props.customThumb,n&&n)}}]),t}();t.default=u,u.propTypes={clsName:i.default.string,color:i.default.string,customThumb:i.default.node,offsetLeft:i.default.number,offsetTop:i.default.number,position:i.default.number,sliderSize:i.default.number,thumbSize:i.default.number},u.defaultProps={clsName:"dynamic-slider",position:0}},9:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0),a=c(o),i=c(r(1)),s=c(r(5)),u=c(r(4)),l=c(r(3));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function p(){}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={markerCount:0,drag:!1,currentPosition:0,percent:0,mainThumbValues:0,ratio:20,markerPositions:[],markerPercents:[],markerValues:[],markerRatios:[],step:1,dynamic:!0},r.onInteractionStart=r.onInteractionStart.bind(r),r.onMouseOrTouchMove=r.onMouseOrTouchMove.bind(r),r.onInteractionEnd=r.onInteractionEnd.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"componentWillMount",value:function(){this.propsToState(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.propsToState(e)}},{key:"onInteractionStart",value:function(e){var t=void 0!==e.touches?"touch":"mouse";console.log(t);"mouse"===t&&0!==e.button||(this.updateSliderValue(e,t),this.state.dynamic||this.setState({drag:!0}),this.addEvents(t),e.preventDefault())}},{key:"onInteractionEnd",value:function(){this.setState({drag:!1}),this.props.onChangeComplete(this.state),this.removeEvents()}},{key:"onMouseOrTouchMove",value:function(e){var t=void 0!==e.touches?"touch":"mouse";this.state.drag&&(this.updateSliderValue(e,t),e.stopPropagation())}},{key:"getSliderInfo",value:function(){var e=this.refs.slider;return{bounds:e.getBoundingClientRect(),length:e.clientWidth,height:e.clientHeight}}},{key:"addEvents",value:function(e){switch(e){case"mouse":document.addEventListener("mousemove",this.onMouseOrTouchMove),document.addEventListener("mouseup",this.onInteractionEnd);break;case"touch":document.addEventListener("touchmove",this.onMouseOrTouchMove),document.addEventListener("touchend",this.onInteractionEnd)}}},{key:"removeEvents",value:function(){document.removeEventListener("mousemove",this.onMouseOrTouchMove),document.removeEventListener("mouseup",this.onInteractionEnd),document.removeEventListener("touchmove",this.onMouseOrTouchMove),document.removeEventListener("touchend",this.onInteractionEnd)}},{key:"updateSliderValue",value:function(e,t){var r=this.state,n=r.maxValue,o=r.minValue,a=r.dynamic,i=this.state.mainThumbValue,s=void 0;if(a){var u=this.state.currentPosition+this.getSliderInfo().bounds.left,l=u+.5*this.state.thumbSize,c=u-.5*this.state.thumbSize;if(console.log("maxThumbArea: "+l),console.log("minThumbArea: "+c),s=(e.pageX>=c&&e.pageX<=l?e.pageX:this.getSliderInfo().bounds.left)-window.pageXOffset,console.log("e.pageX: "+e.pageX),console.log("xCoords: "+s),s===this.getSliderInfo().bounds.left-window.pageXOffset){var d=e.pageX-window.pageXOffset;this.state.drag||this.addMarker(d)}else this.setState({drag:!0})}else s=("touch"!==t?e.pageX:e.touches[0].pageX)-window.pageXOffset;var p,f=s-this.getSliderInfo().bounds.left;p=this.getSliderInfo().length;var h=this.clampValue(+(f/p).toFixed(2),0,1),m=this.valueFromPercent(h);if((i=this.calculateMatchingNotch(m))!==this.state.mainThumbValues){var v=100*(i-o)/(n-o);1===v&&(v=0),this.setState({percent:h,mainThumbValue:i,ratio:v,currentPosition:f},this.handleChange)}}},{key:"handleChange",value:function(){this.props.onChange(this.state)}},{key:"handleAddMarker",value:function(){var e=this.maxMinMarkerValues(),t=e.min,r=e.max,n=this.props,o=n.lockToMinMark,a=n.lockToMaxMark;!0===o?this.moveMainThumb(t):!0===a&&this.moveMainThumb(r),this.props.onAddMarker(this.state)}},{key:"maxMinMarkerValues",value:function(){var e=this.state.markerValues,t=this.state.markerPositions,r=this.state.markerRatios,n=this.state.markerPercents;return{min:{values:Math.min.apply(Math,d(e)),positions:Math.min.apply(Math,d(t)),ratios:Math.min.apply(Math,d(r)),percents:Math.min.apply(Math,d(n))},max:{values:Math.max.apply(Math,d(e)),positions:Math.max.apply(Math,d(t)),ratios:Math.max.apply(Math,d(r)),percents:Math.max.apply(Math,d(n))}}}},{key:"moveMainThumb",value:function(e){this.setState({mainThumbValue:e.values,percent:e.percents,ratio:e.ratios,currentPosition:e.positions})}},{key:"valueFromPercent",value:function(e){var t=this.state;return t.range*e+t.minValue}},{key:"calculateMatchingNotch",value:function(e){for(var t=this.state,r=t.step,n=t.maxValue,o=t.minValue,a=[],i=o;i<=n;i++)a.push(i);var s=[],u=!0,l=!1,c=void 0;try{for(var d,p=a[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var f=d.value;f!==o&&f!==n&&f%r!=0||s.push(f)}}catch(e){l=!0,c=e}finally{try{!u&&p.return&&p.return()}finally{if(l)throw c}}return s.reduce(function(t,r){return Math.abs(r-e)<Math.abs(t-e)?r:t})}},{key:"clampValue",value:function(e,t,r){return Math.max(t,Math.min(e,r))}},{key:"propsToState",value:function(e){var t=this,r=e.markerCount,n=e.markerValues,o=e.markerPercents,a=e.markerPositions,i=e.markerRatios;if(this.state.markerCount!==r&&this.setState({markerCount:r}),void 0!==n||0!==n.length)for(var s=function(e){n.length>0?t.setState(function(t){return{markerValues:[].concat(d(t.markerValues),[n[e]]),markerRatios:[].concat(d(t.markerRatios),[i[e]]),markerPercents:[].concat(d(t.markerPercents),[o[e]]),markerPositions:[].concat(d(t.markerPositions),[a[e]])}}):t.setState(function(e){return{markerValues:[].concat(d(e.markerValues),[0]),markerRatios:[].concat(d(e.markerRatios),[0]),markerPercents:[].concat(d(e.markerPercents),[0]),markerPositions:[].concat(d(e.markerPositions),[0])}})},u=0;u<r;u++)s(u);var l=e.markerSize,c=e.thumbSize,p=e.sliderSize;void 0===e.thumbSize&&(c=this.props.disableThumb?0:2*p),void 0===e.markerSize&&(l=.5*p);var f=e.minValue,h=e.maxValue,m=e.id,v=h-f,b=100*Math.max(this.state.mainThumbValue-f,0)/(h-f);this.setState(function(e){return{minValue:f,maxValue:h,range:v,ratio:b,thumbSize:c,markerSize:l,id:m}})}},{key:"addMarker",value:function(e){var t=this;console.log("!MARK START!"),console.log("addMarker markerPosition: "+e);var r=e-this.getSliderInfo().bounds.left,n=this.getSliderInfo().length,o=this.clampValue(+(r/n).toFixed(2),0,1),a=this.valueFromPercent(o),i=this.calculateMatchingNotch(a),s=this.state.markerValues,u=this.state,l=u.maxValue,c=u.minValue;if(i!==this.state.mainThumbValues&&i!==s.includes(i)){console.log(this.state.markerValues.length);var p=100*(i-c)/(l-c);this.setState(function(e,n){if(e.markerValues.length>=e.markerCount)var a=t.state.markerValues.slice(1),s=t.state.markerRatios.slice(1),u=t.state.markerPercents.slice(1),l=t.state.markerPositions.slice(1);return{percent:o,markerValues:[].concat(d(a||e.markerValues),[i]),markerRatios:[].concat(d(s||e.markerRatios),[p]),markerPositions:[].concat(d(l||e.markerPositions),[r]),markerPercents:[].concat(d(u||e.markerPercents),[o])}},this.handleAddMarker),console.log(this.state.markerValues)}}},{key:"render",value:function(){var e=this;console.log(this.state.markerValues),console.log(this.state.markerPositions),console.log(this.state.markerPercents),console.log(this.state.markerRatios);var t=this.props,r=t.clsName,n=t.vertical,o=t.sliderSize,i=t.disableThumb,c=(t.disableTrack,t.children),d=(t.label,t.trackColor),p=t.thumbColor,f=t.verticalSliderHeight,h=t.eventWrapperPadding,m={height:"100%",position:"relative",cursor:"pointer",margin:"0 auto",get padding(){return n?"0 "+h+"px":h+"px 0"},get width(){return n?o+"px":"auto"}},v={backgroundColor:this.props.sliderColor,position:"relative",overflow:"visible",get height(){return n?f:o+"px"},get width(){return n?o+"px":"100%"}};return a.default.createElement("div",{className:r+"-slider",onMouseDown:this.onInteractionStart,onTouchStart:this.onInteractionStart,style:m},a.default.createElement("div",{className:r+"-line",ref:"slider",style:v},a.default.createElement(u.default,{color:d,length:this.state.ratio,vertical:n}),a.default.createElement(s.default,{color:p,customThumb:c,disableThumb:i,position:this.state.ratio,sliderSize:o,thumbSize:this.state.thumbSize,value:this.state.value}),this.state.markerPositions.length>0&&this.state.markerValues.map(function(t,r){return a.default.createElement(l.default,{color:"yellow",key:r,markerNumber:r,markerSize:e.state.markerSize,position:t,sliderSize:o})})))}}]),t}();t.default=f,f.propTypes={clsName:i.default.string,dynamic:i.default.bool,markerCount:i.default.number,minValue:i.default.number,maxValue:i.default.number,onChange:i.default.func,onChangeComplete:i.default.func,onAddMarker:i.default.func,id:i.default.string,sliderColor:i.default.string,trackColor:i.default.string,thumbColor:i.default.string,disableThumb:i.default.bool,mainThumbValue:i.default.number,lockToMinMark:i.default.bool,lockToMaxMark:i.default.bool},f.defaultProps={clsName:"dynamic-slider",markerCount:2,minValue:0,maxValue:100,markerValues:[],markerRatios:[],markerPositions:[],markerPercents:[],onChange:p,onChangeComplete:p,onAddMarker:p,sliderColor:"blue",trackColor:"green",thumbColor:"red",id:null,disableThumb:!1,sliderSize:30,mainThumbValue:0,lockToMinMark:!0,lockToMaxMark:!1}}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvTWFya2VyLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1RyYWNrLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1RodW1iLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1NsaWRlci5qcyJdLCJuYW1lcyI6WyJ3ZWJwYWNrSnNvbnBDYWxsYmFjayIsImRhdGEiLCJtb2R1bGVJZCIsImNodW5rSWQiLCJjaHVua0lkcyIsIm1vcmVNb2R1bGVzIiwiZXhlY3V0ZU1vZHVsZXMiLCJpIiwicmVzb2x2ZXMiLCJsZW5ndGgiLCJpbnN0YWxsZWRDaHVua3MiLCJwdXNoIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwibW9kdWxlcyIsInBhcmVudEpzb25wRnVuY3Rpb24iLCJzaGlmdCIsImRlZmVycmVkTW9kdWxlcyIsImFwcGx5IiwiY2hlY2tEZWZlcnJlZE1vZHVsZXMiLCJyZXN1bHQiLCJkZWZlcnJlZE1vZHVsZSIsImZ1bGxmaWxsZWQiLCJqIiwiZGVwSWQiLCJzcGxpY2UiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwicyIsInBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrIiwid2luZG93IiwiaG90QXZhaWxhYmxlRmlsZXNNYXAiLCJob3RSZXF1ZXN0ZWRGaWxlc01hcCIsImhvdFVwZGF0ZSIsImhvdFdhaXRpbmdGaWxlcyIsImhvdENodW5rc0xvYWRpbmciLCJob3RVcGRhdGVEb3dubG9hZGVkIiwiaG90QWRkVXBkYXRlQ2h1bmsiLCJob3RDdXJyZW50Q2hpbGRNb2R1bGUiLCJob3RBcHBseU9uVXBkYXRlIiwiaG90Q3VycmVudEhhc2giLCJob3RSZXF1ZXN0VGltZW91dCIsImhvdEN1cnJlbnRNb2R1bGVEYXRhIiwiaG90Q3VycmVudFBhcmVudHMiLCJob3RDdXJyZW50UGFyZW50c1RlbXAiLCJob3RTdGF0dXNIYW5kbGVycyIsImhvdFN0YXR1cyIsImhvdFNldFN0YXR1cyIsIm5ld1N0YXR1cyIsImhvdERlZmVycmVkIiwiaG90VXBkYXRlTmV3SGFzaCIsImhvdFdhaXRpbmdGaWxlc01hcCIsInRvTW9kdWxlSWQiLCJpZCIsImhvdENoZWNrIiwiRXJyb3IiLCJyZXF1ZXN0VGltZW91dCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiWE1MSHR0cFJlcXVlc3QiLCJyZXF1ZXN0IiwicmVxdWVzdFBhdGgiLCJwIiwib3BlbiIsInRpbWVvdXQiLCJzZW5kIiwiZXJyIiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInN0YXR1cyIsInVwZGF0ZSIsIkpTT04iLCJwYXJzZSIsInJlc3BvbnNlVGV4dCIsImUiLCJ0aGVuIiwiYyIsImgiLCJwcm9taXNlIiwiaG90RW5zdXJlVXBkYXRlQ2h1bmsiLCJoZWFkIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInNjcmlwdCIsImNyZWF0ZUVsZW1lbnQiLCJjaGFyc2V0Iiwic3JjIiwiYXBwZW5kQ2hpbGQiLCJob3REb3dubG9hZFVwZGF0ZUNodW5rIiwiZGVmZXJyZWQiLCJob3RBcHBseSIsIm91dGRhdGVkTW9kdWxlcyIsIm9wdGlvbnMiLCJjYiIsIm1vZHVsZSIsImdldEFmZmVjdGVkU3R1ZmYiLCJ1cGRhdGVNb2R1bGVJZCIsIm91dGRhdGVkRGVwZW5kZW5jaWVzIiwicXVldWUiLCJzbGljZSIsIm1hcCIsImNoYWluIiwicXVldWVJdGVtIiwicG9wIiwiaW5zdGFsbGVkTW9kdWxlcyIsImhvdCIsIl9zZWxmQWNjZXB0ZWQiLCJfc2VsZkRlY2xpbmVkIiwidHlwZSIsIl9tYWluIiwicGFyZW50cyIsInBhcmVudElkIiwicGFyZW50IiwiX2RlY2xpbmVkRGVwZW5kZW5jaWVzIiwiY29uY2F0IiwiaW5jbHVkZXMiLCJfYWNjZXB0ZWREZXBlbmRlbmNpZXMiLCJhZGRBbGxUb1NldCIsImEiLCJiIiwiaXRlbSIsImFwcGxpZWRVcGRhdGUiLCJ3YXJuVW5leHBlY3RlZFJlcXVpcmUiLCJjb25zb2xlIiwid2FybiIsImFib3J0RXJyb3IiLCJkb0FwcGx5IiwiZG9EaXNwb3NlIiwiY2hhaW5JbmZvIiwiam9pbiIsIm9uRGVjbGluZWQiLCJpZ25vcmVEZWNsaW5lZCIsIm9uVW5hY2NlcHRlZCIsImlnbm9yZVVuYWNjZXB0ZWQiLCJvbkFjY2VwdGVkIiwib25EaXNwb3NlZCIsImlkeCIsIm91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcyIsImVycm9ySGFuZGxlciIsImtleXMiLCJmb3JFYWNoIiwiaG90RGlzcG9zZUNodW5rIiwiZGVwZW5kZW5jeSIsIm1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzIiwiZGlzcG9zZUhhbmRsZXJzIiwiX2Rpc3Bvc2VIYW5kbGVycyIsImFjdGl2ZSIsImNoaWxkcmVuIiwiY2hpbGQiLCJpbmRleE9mIiwiZXJyb3IiLCJjYWxsYmFja3MiLCJvbkVycm9yZWQiLCJkZXBlbmRlbmN5SWQiLCJpZ25vcmVFcnJvcmVkIiwiZXJyMiIsIm9yaWdpbmFsRXJyb3IiLCIxIiwiZXhwb3J0cyIsImwiLCJhY2NlcHQiLCJkZXAiLCJjYWxsYmFjayIsImRlY2xpbmUiLCJkaXNwb3NlIiwiYWRkRGlzcG9zZUhhbmRsZXIiLCJyZW1vdmVEaXNwb3NlSGFuZGxlciIsImNoZWNrIiwiYWRkU3RhdHVzSGFuZGxlciIsInJlbW92ZVN0YXR1c0hhbmRsZXIiLCJ1bmRlZmluZWQiLCJob3RDcmVhdGVNb2R1bGUiLCJtZSIsImZuIiwiT2JqZWN0RmFjdG9yeSIsIm5hbWUiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwic2V0IiwidmFsdWUiLCJkZWZpbmVQcm9wZXJ0eSIsImZpbmlzaENodW5rTG9hZGluZyIsImhvdENyZWF0ZVJlcXVpcmUiLCJtIiwiZCIsImdldHRlciIsIm8iLCJyIiwibiIsIl9fZXNNb2R1bGUiLCJvYmplY3QiLCJwcm9wZXJ0eSIsImpzb25wQXJyYXkiLCJvbGRKc29ucEZ1bmN0aW9uIiwiYmluZCIsInJvb3RFbCIsImdldEVsZW1lbnRCeUlkIiwiX3JlYWN0RG9tMiIsImRlZmF1bHQiLCJyZW5kZXIiLCJfcmVhY3QyIiwiX1NsaWRlcjIiLCJfcmVhY3QiLCJNYXJrZXIiLCJfcHJvcHMiLCJ0aGlzIiwicHJvcHMiLCJjbHNOYW1lIiwiY29sb3IiLCJkZWZhdWx0TWFya2VyIiwicG9zaXRpb24iLCJzbGlkZXJTaXplIiwibWFya2VyU2l6ZSIsIm1hcmtlck51bWJlciIsIm1hcmtlcldyYXBwZXJTdHlsZXMiLCJsZWZ0IiwidG9wIiwiYm90dG9tIiwibWFyZ2luVG9wIiwibWFyZ2luTGVmdCIsIm1hcmdpbkJvdHRvbSIsImRpc3BsYXkiLCJjdXN0b21NYXJrZXIiLCJkZWZhdWx0TWFya2VyU3R5bGVzIiwiYmFja2dyb3VuZENvbG9yIiwiYm9yZGVyUmFkaXVzIiwiaGVpZ2h0Iiwid2lkdGgiLCJzdHlsZSIsImNsYXNzTmFtZSIsInByb3BUeXBlcyIsIl9wcm9wVHlwZXMyIiwic3RyaW5nIiwibm9kZSIsIm9mZnNldExlZnQiLCJudW1iZXIiLCJvZmZzZXRUb3AiLCJkZWZhdWx0UHJvcHMiLCJUcmFjayIsInRyYWNrU3R5bGVzIiwibG9nIiwiVGh1bWIiLCJkZWZhdWx0VGh1bWIiLCJ0aHVtYlNpemUiLCJ0aHVtYldyYXBwZXJTdHlsZXMiLCJjdXN0b21UaHVtYiIsImRlZmF1bHRUaHVtYlN0eWxlcyIsIm5vb3AiLCJTbGlkZXIiLCJfY2xhc3NDYWxsQ2hlY2siLCJfdGhpcyIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwiX19wcm90b19fIiwiZ2V0UHJvdG90eXBlT2YiLCJzdGF0ZSIsIm1hcmtlckNvdW50IiwiZHJhZyIsImN1cnJlbnRQb3NpdGlvbiIsInBlcmNlbnQiLCJtYWluVGh1bWJWYWx1ZXMiLCJyYXRpbyIsIm1hcmtlclBvc2l0aW9ucyIsIm1hcmtlclBlcmNlbnRzIiwibWFya2VyVmFsdWVzIiwibWFya2VyUmF0aW9zIiwic3RlcCIsImR5bmFtaWMiLCJvbkludGVyYWN0aW9uU3RhcnQiLCJvbk1vdXNlT3JUb3VjaE1vdmUiLCJvbkludGVyYWN0aW9uRW5kIiwicHJvcHNUb1N0YXRlIiwibmV4dFByb3BzIiwiZXZlbnRUeXBlIiwidG91Y2hlcyIsImJ1dHRvbiIsInVwZGF0ZVNsaWRlclZhbHVlIiwic2V0U3RhdGUiLCJhZGRFdmVudHMiLCJwcmV2ZW50RGVmYXVsdCIsIm9uQ2hhbmdlQ29tcGxldGUiLCJyZW1vdmVFdmVudHMiLCJzdG9wUHJvcGFnYXRpb24iLCJzbCIsInJlZnMiLCJzbGlkZXIiLCJib3VuZHMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiX3N0YXRlIiwibWF4VmFsdWUiLCJtaW5WYWx1ZSIsIm1haW5UaHVtYlZhbHVlIiwieENvb3JkcyIsImdldFNsaWRlckluZm8iLCJtYXhUaHVtYkFyZWEiLCJtaW5UaHVtYkFyZWEiLCJwYWdlWCIsInBhZ2VYT2Zmc2V0IiwibWFya1Bvc2l0aW9uIiwiYWRkTWFya2VyIiwibGVuZ3RoT3JIZWlnaHQiLCJjbGFtcFZhbHVlIiwidG9GaXhlZCIsInJhd1ZhbHVlIiwidmFsdWVGcm9tUGVyY2VudCIsImNhbGN1bGF0ZU1hdGNoaW5nTm90Y2giLCJoYW5kbGVDaGFuZ2UiLCJvbkNoYW5nZSIsIl9tYXhNaW5NYXJrZXJWYWx1ZXMiLCJtYXhNaW5NYXJrZXJWYWx1ZXMiLCJtaW4iLCJtYXgiLCJsb2NrVG9NaW5NYXJrIiwibG9ja1RvTWF4TWFyayIsIm1vdmVNYWluVGh1bWIiLCJvbkFkZE1hcmtlciIsIm1hcmtlclZhbHVlc0FycmF5IiwibWFya2VyUG9zaXRpb25zQXJyYXkiLCJtYXJrZXJSYXRpb3NBcnJheSIsIm1hcmtlclBlcmNlbnRzQXJyYXkiLCJ2YWx1ZXMiLCJNYXRoIiwiX3RvQ29uc3VtYWJsZUFycmF5IiwicG9zaXRpb25zIiwicmF0aW9zIiwicGVyY2VudHMiLCJwZXJjZW50YWdlIiwiX3N0YXRlMiIsInJhbmdlIiwiX3N0YXRlMyIsIm5vdGNoZXMiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uIiwiX2RpZEl0ZXJhdG9yRXJyb3IiLCJfaXRlcmF0b3JFcnJvciIsIl9zdGVwIiwiX2l0ZXJhdG9yIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJuZXh0IiwiZG9uZSIsInJldHVybiIsInJlZHVjZSIsInByZXYiLCJjdXJyIiwiYWJzIiwidmFsIiwiX3RoaXMyIiwiX2xvb3AiLCJwcmV2U3RhdGUiLCJkaXNhYmxlVGh1bWIiLCJtYXJrZXJQb3NpdGlvbiIsIl90aGlzMyIsIm1hcmtlclZhbHVlIiwibWFya2VyQXJyYXkiLCJfc3RhdGU0IiwibmV3VmFsdWVzQXJyIiwibmV3UmF0aW9zQXJyIiwibmV3UGVyY3NBcnIiLCJuZXdQb3NBcnIiLCJoYW5kbGVBZGRNYXJrZXIiLCJfdGhpczQiLCJfcHJvcHMyIiwidmVydGljYWwiLCJkaXNhYmxlVHJhY2siLCJ0cmFja0NvbG9yIiwibGFiZWwiLCJ0aHVtYkNvbG9yIiwidmVydGljYWxTbGlkZXJIZWlnaHQiLCJldmVudFdyYXBwZXJQYWRkaW5nIiwiZXZlbnRXcmFwcGVyU3R5bGUiLCJjdXJzb3IiLCJtYXJnaW4iLCJwYWRkaW5nIiwic2xpZGVyU3R5bGUiLCJzbGlkZXJDb2xvciIsIm92ZXJmbG93Iiwib25Nb3VzZURvd24iLCJvblRvdWNoU3RhcnQiLCJyZWYiLCJfVHJhY2syIiwiX1RodW1iMiIsImluZGV4IiwiX01hcmtlcjIiLCJrZXkiLCJib29sIiwiZnVuYyJdLCJtYXBwaW5ncyI6ImFBQ0EsU0FBQUEsRUFBQUMsR0FPQSxJQU5BLElBS0FDLEVBQUFDLEVBTEFDLEVBQUFILEVBQUEsR0FDQUksRUFBQUosRUFBQSxHQUNBSyxFQUFBTCxFQUFBLEdBR0FNLEVBQUEsRUFBQUMsS0FDUUQsRUFBQUgsRUFBQUssT0FBb0JGLElBQzVCSixFQUFBQyxFQUFBRyxHQUNB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QUFZeEksRUFBQWpDLFFBQVVrQyxPQUN0QnlJLFdBQVkxSSxFQUFBakMsUUFBVWtDLE9BQ3RCd0gsYUFBY3pILEVBQUFqQyxRQUFVNkwsS0FDeEI3RixlQUFnQi9ELEVBQUFqQyxRQUFVcUMsT0FDMUJnRixjQUFlcEYsRUFBQWpDLFFBQVU2TCxLQUN6QnZFLGNBQWVyRixFQUFBakMsUUFBVTZMLE1BRzdCM0ksRUFBT1gsY0FDSDlCLFFBQVMsaUJBQ1RnRCxZQUFhLEVBQ2JzQyxTQUFVLEVBQ1ZELFNBQVUsSUFDVjdCLGdCQUNBQyxnQkFDQUgsbUJBQ0FDLGtCQUNBZ0QsU0FBVS9ELEVBQ1ZnQyxpQkFBa0JoQyxFQUNsQnVFLFlBQWF2RSxFQUNia0ksWUFBYSxPQUNiVixXQUFZLFFBQ1pFLFdBQVksTUFDWjlULEdBQUksS0FDSjZTLGNBQWMsRUFDZDdJLFdBQVksR0FDWm1GLGVBQWdCLEVBQ2hCcUIsZUFBZ0IsRUFDaEJDLGVBQWdCIiwiZmlsZSI6ImJ1bmRsZS41YjRhOWVlOWFmYmQ4NzE0NTNiMS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIGluc3RhbGwgYSBKU09OUCBjYWxsYmFjayBmb3IgY2h1bmsgbG9hZGluZ1xuIFx0ZnVuY3Rpb24gd2VicGFja0pzb25wQ2FsbGJhY2soZGF0YSkge1xuIFx0XHR2YXIgY2h1bmtJZHMgPSBkYXRhWzBdO1xuIFx0XHR2YXIgbW9yZU1vZHVsZXMgPSBkYXRhWzFdXG4gXHRcdHZhciBleGVjdXRlTW9kdWxlcyA9IGRhdGFbMl07XG4gXHRcdC8vIGFkZCBcIm1vcmVNb2R1bGVzXCIgdG8gdGhlIG1vZHVsZXMgb2JqZWN0LFxuIFx0XHQvLyB0aGVuIGZsYWcgYWxsIFwiY2h1bmtJZHNcIiBhcyBsb2FkZWQgYW5kIGZpcmUgY2FsbGJhY2tcbiBcdFx0dmFyIG1vZHVsZUlkLCBjaHVua0lkLCBpID0gMCwgcmVzb2x2ZXMgPSBbXTtcbiBcdFx0Zm9yKDtpIDwgY2h1bmtJZHMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRjaHVua0lkID0gY2h1bmtJZHNbaV07XG4gXHRcdFx0aWYoaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdKSB7XG4gXHRcdFx0XHRyZXNvbHZlcy5wdXNoKGluc3RhbGxlZENodW5rc1tjaHVua0lkXVswXSk7XG4gXHRcdFx0fVxuIFx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IDA7XG4gXHRcdH1cbiBcdFx0Zm9yKG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcbiBcdFx0XHRcdG1vZHVsZXNbbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRpZihwYXJlbnRKc29ucEZ1bmN0aW9uKSBwYXJlbnRKc29ucEZ1bmN0aW9uKGRhdGEpO1xuIFx0XHR3aGlsZShyZXNvbHZlcy5sZW5ndGgpIHtcbiBcdFx0XHRyZXNvbHZlcy5zaGlmdCgpKCk7XG4gXHRcdH1cblxuIFx0XHQvLyBhZGQgZW50cnkgbW9kdWxlcyBmcm9tIGxvYWRlZCBjaHVuayB0byBkZWZlcnJlZCBsaXN0XG4gXHRcdGRlZmVycmVkTW9kdWxlcy5wdXNoLmFwcGx5KGRlZmVycmVkTW9kdWxlcywgZXhlY3V0ZU1vZHVsZXMgfHwgW10pO1xuXG4gXHRcdC8vIHJ1biBkZWZlcnJlZCBtb2R1bGVzIHdoZW4gYWxsIGNodW5rcyByZWFkeVxuIFx0XHRyZXR1cm4gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKTtcbiBcdH07XG4gXHRmdW5jdGlvbiBjaGVja0RlZmVycmVkTW9kdWxlcygpIHtcbiBcdFx0dmFyIHJlc3VsdDtcbiBcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGRlZmVycmVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdHZhciBkZWZlcnJlZE1vZHVsZSA9IGRlZmVycmVkTW9kdWxlc1tpXTtcbiBcdFx0XHR2YXIgZnVsbGZpbGxlZCA9IHRydWU7XG4gXHRcdFx0Zm9yKHZhciBqID0gMTsgaiA8IGRlZmVycmVkTW9kdWxlLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHR2YXIgZGVwSWQgPSBkZWZlcnJlZE1vZHVsZVtqXTtcbiBcdFx0XHRcdGlmKGluc3RhbGxlZENodW5rc1tkZXBJZF0gIT09IDApIGZ1bGxmaWxsZWQgPSBmYWxzZTtcbiBcdFx0XHR9XG4gXHRcdFx0aWYoZnVsbGZpbGxlZCkge1xuIFx0XHRcdFx0ZGVmZXJyZWRNb2R1bGVzLnNwbGljZShpLS0sIDEpO1xuIFx0XHRcdFx0cmVzdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBkZWZlcnJlZE1vZHVsZVswXSk7XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdHJldHVybiByZXN1bHQ7XG4gXHR9XG4gXHRmdW5jdGlvbiBob3REaXNwb3NlQ2h1bmsoY2h1bmtJZCkge1xuIFx0XHRkZWxldGUgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdO1xuIFx0fVxuIFx0dmFyIHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrID0gd2luZG93W1wid2VicGFja0hvdFVwZGF0ZVwiXTtcbiBcdHdpbmRvd1tcIndlYnBhY2tIb3RVcGRhdGVcIl0gPSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIHdlYnBhY2tIb3RVcGRhdGVDYWxsYmFjayhjaHVua0lkLCBtb3JlTW9kdWxlcykge1xuIFx0XHRob3RBZGRVcGRhdGVDaHVuayhjaHVua0lkLCBtb3JlTW9kdWxlcyk7XG4gXHRcdGlmIChwYXJlbnRIb3RVcGRhdGVDYWxsYmFjaykgcGFyZW50SG90VXBkYXRlQ2FsbGJhY2soY2h1bmtJZCwgbW9yZU1vZHVsZXMpO1xuIFx0fSA7XG5cbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0ZnVuY3Rpb24gaG90RG93bmxvYWRVcGRhdGVDaHVuayhjaHVua0lkKSB7XG4gXHRcdHZhciBoZWFkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdO1xuIFx0XHR2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcbiBcdFx0c2NyaXB0LmNoYXJzZXQgPSBcInV0Zi04XCI7XG4gXHRcdHNjcmlwdC5zcmMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgY2h1bmtJZCArIFwiLlwiICsgaG90Q3VycmVudEhhc2ggKyBcIi5ob3QtdXBkYXRlLmpzXCI7XG4gXHRcdDtcbiBcdFx0aGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpO1xuIFx0fVxuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdERvd25sb2FkTWFuaWZlc3QocmVxdWVzdFRpbWVvdXQpIHtcbiBcdFx0cmVxdWVzdFRpbWVvdXQgPSByZXF1ZXN0VGltZW91dCB8fCAxMDAwMDtcbiBcdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuIFx0XHRcdGlmICh0eXBlb2YgWE1MSHR0cFJlcXVlc3QgPT09IFwidW5kZWZpbmVkXCIpXG4gXHRcdFx0XHRyZXR1cm4gcmVqZWN0KG5ldyBFcnJvcihcIk5vIGJyb3dzZXIgc3VwcG9ydFwiKSk7XG4gXHRcdFx0dHJ5IHtcbiBcdFx0XHRcdHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gXHRcdFx0XHR2YXIgcmVxdWVzdFBhdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgaG90Q3VycmVudEhhc2ggKyBcIi5ob3QtdXBkYXRlLmpzb25cIjtcbiBcdFx0XHRcdHJlcXVlc3Qub3BlbihcIkdFVFwiLCByZXF1ZXN0UGF0aCwgdHJ1ZSk7XG4gXHRcdFx0XHRyZXF1ZXN0LnRpbWVvdXQgPSByZXF1ZXN0VGltZW91dDtcbiBcdFx0XHRcdHJlcXVlc3Quc2VuZChudWxsKTtcbiBcdFx0XHR9IGNhdGNoIChlcnIpIHtcbiBcdFx0XHRcdHJldHVybiByZWplY3QoZXJyKTtcbiBcdFx0XHR9XG4gXHRcdFx0cmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiBcdFx0XHRcdGlmIChyZXF1ZXN0LnJlYWR5U3RhdGUgIT09IDQpIHJldHVybjtcbiBcdFx0XHRcdGlmIChyZXF1ZXN0LnN0YXR1cyA9PT0gMCkge1xuIFx0XHRcdFx0XHQvLyB0aW1lb3V0XG4gXHRcdFx0XHRcdHJlamVjdChcbiBcdFx0XHRcdFx0XHRuZXcgRXJyb3IoXCJNYW5pZmVzdCByZXF1ZXN0IHRvIFwiICsgcmVxdWVzdFBhdGggKyBcIiB0aW1lZCBvdXQuXCIpXG4gXHRcdFx0XHRcdCk7XG4gXHRcdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3Quc3RhdHVzID09PSA0MDQpIHtcbiBcdFx0XHRcdFx0Ly8gbm8gdXBkYXRlIGF2YWlsYWJsZVxuIFx0XHRcdFx0XHRyZXNvbHZlKCk7XG4gXHRcdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3Quc3RhdHVzICE9PSAyMDAgJiYgcmVxdWVzdC5zdGF0dXMgIT09IDMwNCkge1xuIFx0XHRcdFx0XHQvLyBvdGhlciBmYWlsdXJlXG4gXHRcdFx0XHRcdHJlamVjdChuZXcgRXJyb3IoXCJNYW5pZmVzdCByZXF1ZXN0IHRvIFwiICsgcmVxdWVzdFBhdGggKyBcIiBmYWlsZWQuXCIpKTtcbiBcdFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHRcdC8vIHN1Y2Nlc3NcbiBcdFx0XHRcdFx0dHJ5IHtcbiBcdFx0XHRcdFx0XHR2YXIgdXBkYXRlID0gSlNPTi5wYXJzZShyZXF1ZXN0LnJlc3BvbnNlVGV4dCk7XG4gXHRcdFx0XHRcdH0gY2F0Y2ggKGUpIHtcbiBcdFx0XHRcdFx0XHRyZWplY3QoZSk7XG4gXHRcdFx0XHRcdFx0cmV0dXJuO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdHJlc29sdmUodXBkYXRlKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9O1xuIFx0XHR9KTtcbiBcdH1cblxuIFx0dmFyIGhvdEFwcGx5T25VcGRhdGUgPSB0cnVlO1xuIFx0dmFyIGhvdEN1cnJlbnRIYXNoID0gXCI1YjRhOWVlOWFmYmQ4NzE0NTNiMVwiOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gXHR2YXIgaG90UmVxdWVzdFRpbWVvdXQgPSAxMDAwMDtcbiBcdHZhciBob3RDdXJyZW50TW9kdWxlRGF0YSA9IHt9O1xuIFx0dmFyIGhvdEN1cnJlbnRDaGlsZE1vZHVsZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0dmFyIGhvdEN1cnJlbnRQYXJlbnRzID0gW107IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdHZhciBob3RDdXJyZW50UGFyZW50c1RlbXAgPSBbXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdENyZWF0ZVJlcXVpcmUobW9kdWxlSWQpIHtcbiBcdFx0dmFyIG1lID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdGlmICghbWUpIHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fO1xuIFx0XHR2YXIgZm4gPSBmdW5jdGlvbihyZXF1ZXN0KSB7XG4gXHRcdFx0aWYgKG1lLmhvdC5hY3RpdmUpIHtcbiBcdFx0XHRcdGlmIChpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdKSB7XG4gXHRcdFx0XHRcdGlmICghaW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XS5wYXJlbnRzLmluY2x1ZGVzKG1vZHVsZUlkKSlcbiBcdFx0XHRcdFx0XHRpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdLnBhcmVudHMucHVzaChtb2R1bGVJZCk7XG4gXHRcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFttb2R1bGVJZF07XG4gXHRcdFx0XHRcdGhvdEN1cnJlbnRDaGlsZE1vZHVsZSA9IHJlcXVlc3Q7XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAoIW1lLmNoaWxkcmVuLmluY2x1ZGVzKHJlcXVlc3QpKSBtZS5jaGlsZHJlbi5wdXNoKHJlcXVlc3QpO1xuIFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHRjb25zb2xlLndhcm4oXG4gXHRcdFx0XHRcdFwiW0hNUl0gdW5leHBlY3RlZCByZXF1aXJlKFwiICtcbiBcdFx0XHRcdFx0XHRyZXF1ZXN0ICtcbiBcdFx0XHRcdFx0XHRcIikgZnJvbSBkaXNwb3NlZCBtb2R1bGUgXCIgK1xuIFx0XHRcdFx0XHRcdG1vZHVsZUlkXG4gXHRcdFx0XHQpO1xuIFx0XHRcdFx0aG90Q3VycmVudFBhcmVudHMgPSBbXTtcbiBcdFx0XHR9XG4gXHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18ocmVxdWVzdCk7XG4gXHRcdH07XG4gXHRcdHZhciBPYmplY3RGYWN0b3J5ID0gZnVuY3Rpb24gT2JqZWN0RmFjdG9yeShuYW1lKSB7XG4gXHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuIFx0XHRcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfX1tuYW1lXTtcbiBcdFx0XHRcdH0sXG4gXHRcdFx0XHRzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gXHRcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX19bbmFtZV0gPSB2YWx1ZTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9O1xuIFx0XHR9O1xuIFx0XHRmb3IgKHZhciBuYW1lIGluIF9fd2VicGFja19yZXF1aXJlX18pIHtcbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoX193ZWJwYWNrX3JlcXVpcmVfXywgbmFtZSkgJiZcbiBcdFx0XHRcdG5hbWUgIT09IFwiZVwiXG4gXHRcdFx0KSB7XG4gXHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sIG5hbWUsIE9iamVjdEZhY3RvcnkobmFtZSkpO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRmbi5lID0gZnVuY3Rpb24oY2h1bmtJZCkge1xuIFx0XHRcdGlmIChob3RTdGF0dXMgPT09IFwicmVhZHlcIikgaG90U2V0U3RhdHVzKFwicHJlcGFyZVwiKTtcbiBcdFx0XHRob3RDaHVua3NMb2FkaW5nKys7XG4gXHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18uZShjaHVua0lkKS50aGVuKGZpbmlzaENodW5rTG9hZGluZywgZnVuY3Rpb24oZXJyKSB7XG4gXHRcdFx0XHRmaW5pc2hDaHVua0xvYWRpbmcoKTtcbiBcdFx0XHRcdHRocm93IGVycjtcbiBcdFx0XHR9KTtcblxuIFx0XHRcdGZ1bmN0aW9uIGZpbmlzaENodW5rTG9hZGluZygpIHtcbiBcdFx0XHRcdGhvdENodW5rc0xvYWRpbmctLTtcbiBcdFx0XHRcdGlmIChob3RTdGF0dXMgPT09IFwicHJlcGFyZVwiKSB7XG4gXHRcdFx0XHRcdGlmICghaG90V2FpdGluZ0ZpbGVzTWFwW2NodW5rSWRdKSB7XG4gXHRcdFx0XHRcdFx0aG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0aWYgKGhvdENodW5rc0xvYWRpbmcgPT09IDAgJiYgaG90V2FpdGluZ0ZpbGVzID09PSAwKSB7XG4gXHRcdFx0XHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9O1xuIFx0XHRyZXR1cm4gZm47XG4gXHR9XG5cbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0ZnVuY3Rpb24gaG90Q3JlYXRlTW9kdWxlKG1vZHVsZUlkKSB7XG4gXHRcdHZhciBob3QgPSB7XG4gXHRcdFx0Ly8gcHJpdmF0ZSBzdHVmZlxuIFx0XHRcdF9hY2NlcHRlZERlcGVuZGVuY2llczoge30sXG4gXHRcdFx0X2RlY2xpbmVkRGVwZW5kZW5jaWVzOiB7fSxcbiBcdFx0XHRfc2VsZkFjY2VwdGVkOiBmYWxzZSxcbiBcdFx0XHRfc2VsZkRlY2xpbmVkOiBmYWxzZSxcbiBcdFx0XHRfZGlzcG9zZUhhbmRsZXJzOiBbXSxcbiBcdFx0XHRfbWFpbjogaG90Q3VycmVudENoaWxkTW9kdWxlICE9PSBtb2R1bGVJZCxcblxuIFx0XHRcdC8vIE1vZHVsZSBBUElcbiBcdFx0XHRhY3RpdmU6IHRydWUsXG4gXHRcdFx0YWNjZXB0OiBmdW5jdGlvbihkZXAsIGNhbGxiYWNrKSB7XG4gXHRcdFx0XHRpZiAodHlwZW9mIGRlcCA9PT0gXCJ1bmRlZmluZWRcIikgaG90Ll9zZWxmQWNjZXB0ZWQgPSB0cnVlO1xuIFx0XHRcdFx0ZWxzZSBpZiAodHlwZW9mIGRlcCA9PT0gXCJmdW5jdGlvblwiKSBob3QuX3NlbGZBY2NlcHRlZCA9IGRlcDtcbiBcdFx0XHRcdGVsc2UgaWYgKHR5cGVvZiBkZXAgPT09IFwib2JqZWN0XCIpXG4gXHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZGVwLmxlbmd0aDsgaSsrKVxuIFx0XHRcdFx0XHRcdGhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwW2ldXSA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKCkge307XG4gXHRcdFx0XHRlbHNlIGhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwXSA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKCkge307XG4gXHRcdFx0fSxcbiBcdFx0XHRkZWNsaW5lOiBmdW5jdGlvbihkZXApIHtcbiBcdFx0XHRcdGlmICh0eXBlb2YgZGVwID09PSBcInVuZGVmaW5lZFwiKSBob3QuX3NlbGZEZWNsaW5lZCA9IHRydWU7XG4gXHRcdFx0XHRlbHNlIGlmICh0eXBlb2YgZGVwID09PSBcIm9iamVjdFwiKVxuIFx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKylcbiBcdFx0XHRcdFx0XHRob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcFtpXV0gPSB0cnVlO1xuIFx0XHRcdFx0ZWxzZSBob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcF0gPSB0cnVlO1xuIFx0XHRcdH0sXG4gXHRcdFx0ZGlzcG9zZTogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiBcdFx0XHRcdGhvdC5fZGlzcG9zZUhhbmRsZXJzLnB1c2goY2FsbGJhY2spO1xuIFx0XHRcdH0sXG4gXHRcdFx0YWRkRGlzcG9zZUhhbmRsZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcbiBcdFx0XHR9LFxuIFx0XHRcdHJlbW92ZURpc3Bvc2VIYW5kbGVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xuIFx0XHRcdFx0dmFyIGlkeCA9IGhvdC5fZGlzcG9zZUhhbmRsZXJzLmluZGV4T2YoY2FsbGJhY2spO1xuIFx0XHRcdFx0aWYgKGlkeCA+PSAwKSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcbiBcdFx0XHR9LFxuXG4gXHRcdFx0Ly8gTWFuYWdlbWVudCBBUElcbiBcdFx0XHRjaGVjazogaG90Q2hlY2ssXG4gXHRcdFx0YXBwbHk6IGhvdEFwcGx5LFxuIFx0XHRcdHN0YXR1czogZnVuY3Rpb24obCkge1xuIFx0XHRcdFx0aWYgKCFsKSByZXR1cm4gaG90U3RhdHVzO1xuIFx0XHRcdFx0aG90U3RhdHVzSGFuZGxlcnMucHVzaChsKTtcbiBcdFx0XHR9LFxuIFx0XHRcdGFkZFN0YXR1c0hhbmRsZXI6IGZ1bmN0aW9uKGwpIHtcbiBcdFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzLnB1c2gobCk7XG4gXHRcdFx0fSxcbiBcdFx0XHRyZW1vdmVTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbihsKSB7XG4gXHRcdFx0XHR2YXIgaWR4ID0gaG90U3RhdHVzSGFuZGxlcnMuaW5kZXhPZihsKTtcbiBcdFx0XHRcdGlmIChpZHggPj0gMCkgaG90U3RhdHVzSGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XG4gXHRcdFx0fSxcblxuIFx0XHRcdC8vaW5oZXJpdCBmcm9tIHByZXZpb3VzIGRpc3Bvc2UgY2FsbFxuIFx0XHRcdGRhdGE6IGhvdEN1cnJlbnRNb2R1bGVEYXRhW21vZHVsZUlkXVxuIFx0XHR9O1xuIFx0XHRob3RDdXJyZW50Q2hpbGRNb2R1bGUgPSB1bmRlZmluZWQ7XG4gXHRcdHJldHVybiBob3Q7XG4gXHR9XG5cbiBcdHZhciBob3RTdGF0dXNIYW5kbGVycyA9IFtdO1xuIFx0dmFyIGhvdFN0YXR1cyA9IFwiaWRsZVwiO1xuXG4gXHRmdW5jdGlvbiBob3RTZXRTdGF0dXMobmV3U3RhdHVzKSB7XG4gXHRcdGhvdFN0YXR1cyA9IG5ld1N0YXR1cztcbiBcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBob3RTdGF0dXNIYW5kbGVycy5sZW5ndGg7IGkrKylcbiBcdFx0XHRob3RTdGF0dXNIYW5kbGVyc1tpXS5jYWxsKG51bGwsIG5ld1N0YXR1cyk7XG4gXHR9XG5cbiBcdC8vIHdoaWxlIGRvd25sb2FkaW5nXG4gXHR2YXIgaG90V2FpdGluZ0ZpbGVzID0gMDtcbiBcdHZhciBob3RDaHVua3NMb2FkaW5nID0gMDtcbiBcdHZhciBob3RXYWl0aW5nRmlsZXNNYXAgPSB7fTtcbiBcdHZhciBob3RSZXF1ZXN0ZWRGaWxlc01hcCA9IHt9O1xuIFx0dmFyIGhvdEF2YWlsYWJsZUZpbGVzTWFwID0ge307XG4gXHR2YXIgaG90RGVmZXJyZWQ7XG5cbiBcdC8vIFRoZSB1cGRhdGUgaW5mb1xuIFx0dmFyIGhvdFVwZGF0ZSwgaG90VXBkYXRlTmV3SGFzaDtcblxuIFx0ZnVuY3Rpb24gdG9Nb2R1bGVJZChpZCkge1xuIFx0XHR2YXIgaXNOdW1iZXIgPSAraWQgKyBcIlwiID09PSBpZDtcbiBcdFx0cmV0dXJuIGlzTnVtYmVyID8gK2lkIDogaWQ7XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdENoZWNrKGFwcGx5KSB7XG4gXHRcdGlmIChob3RTdGF0dXMgIT09IFwiaWRsZVwiKVxuIFx0XHRcdHRocm93IG5ldyBFcnJvcihcImNoZWNrKCkgaXMgb25seSBhbGxvd2VkIGluIGlkbGUgc3RhdHVzXCIpO1xuIFx0XHRob3RBcHBseU9uVXBkYXRlID0gYXBwbHk7XG4gXHRcdGhvdFNldFN0YXR1cyhcImNoZWNrXCIpO1xuIFx0XHRyZXR1cm4gaG90RG93bmxvYWRNYW5pZmVzdChob3RSZXF1ZXN0VGltZW91dCkudGhlbihmdW5jdGlvbih1cGRhdGUpIHtcbiBcdFx0XHRpZiAoIXVwZGF0ZSkge1xuIFx0XHRcdFx0aG90U2V0U3RhdHVzKFwiaWRsZVwiKTtcbiBcdFx0XHRcdHJldHVybiBudWxsO1xuIFx0XHRcdH1cbiBcdFx0XHRob3RSZXF1ZXN0ZWRGaWxlc01hcCA9IHt9O1xuIFx0XHRcdGhvdFdhaXRpbmdGaWxlc01hcCA9IHt9O1xuIFx0XHRcdGhvdEF2YWlsYWJsZUZpbGVzTWFwID0gdXBkYXRlLmM7XG4gXHRcdFx0aG90VXBkYXRlTmV3SGFzaCA9IHVwZGF0ZS5oO1xuXG4gXHRcdFx0aG90U2V0U3RhdHVzKFwicHJlcGFyZVwiKTtcbiBcdFx0XHR2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuIFx0XHRcdFx0aG90RGVmZXJyZWQgPSB7XG4gXHRcdFx0XHRcdHJlc29sdmU6IHJlc29sdmUsXG4gXHRcdFx0XHRcdHJlamVjdDogcmVqZWN0XG4gXHRcdFx0XHR9O1xuIFx0XHRcdH0pO1xuIFx0XHRcdGhvdFVwZGF0ZSA9IHt9O1xuIFx0XHRcdGZvcih2YXIgY2h1bmtJZCBpbiBpbnN0YWxsZWRDaHVua3MpXG4gXHRcdFx0e1xuIFx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby1sb25lLWJsb2Nrc1xuIFx0XHRcdFx0LypnbG9iYWxzIGNodW5rSWQgKi9cbiBcdFx0XHRcdGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpO1xuIFx0XHRcdH1cbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRob3RTdGF0dXMgPT09IFwicHJlcGFyZVwiICYmXG4gXHRcdFx0XHRob3RDaHVua3NMb2FkaW5nID09PSAwICYmXG4gXHRcdFx0XHRob3RXYWl0aW5nRmlsZXMgPT09IDBcbiBcdFx0XHQpIHtcbiBcdFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcbiBcdFx0XHR9XG4gXHRcdFx0cmV0dXJuIHByb21pc2U7XG4gXHRcdH0pO1xuIFx0fVxuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdEFkZFVwZGF0ZUNodW5rKGNodW5rSWQsIG1vcmVNb2R1bGVzKSB7XG4gXHRcdGlmICghaG90QXZhaWxhYmxlRmlsZXNNYXBbY2h1bmtJZF0gfHwgIWhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdKVxuIFx0XHRcdHJldHVybjtcbiBcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0gPSBmYWxzZTtcbiBcdFx0Zm9yICh2YXIgbW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcbiBcdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcbiBcdFx0XHRcdGhvdFVwZGF0ZVttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdGlmICgtLWhvdFdhaXRpbmdGaWxlcyA9PT0gMCAmJiBob3RDaHVua3NMb2FkaW5nID09PSAwKSB7XG4gXHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xuIFx0XHR9XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpIHtcbiBcdFx0aWYgKCFob3RBdmFpbGFibGVGaWxlc01hcFtjaHVua0lkXSkge1xuIFx0XHRcdGhvdFdhaXRpbmdGaWxlc01hcFtjaHVua0lkXSA9IHRydWU7XG4gXHRcdH0gZWxzZSB7XG4gXHRcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0gPSB0cnVlO1xuIFx0XHRcdGhvdFdhaXRpbmdGaWxlcysrO1xuIFx0XHRcdGhvdERvd25sb2FkVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XG4gXHRcdH1cbiBcdH1cblxuIFx0ZnVuY3Rpb24gaG90VXBkYXRlRG93bmxvYWRlZCgpIHtcbiBcdFx0aG90U2V0U3RhdHVzKFwicmVhZHlcIik7XG4gXHRcdHZhciBkZWZlcnJlZCA9IGhvdERlZmVycmVkO1xuIFx0XHRob3REZWZlcnJlZCA9IG51bGw7XG4gXHRcdGlmICghZGVmZXJyZWQpIHJldHVybjtcbiBcdFx0aWYgKGhvdEFwcGx5T25VcGRhdGUpIHtcbiBcdFx0XHQvLyBXcmFwIGRlZmVycmVkIG9iamVjdCBpbiBQcm9taXNlIHRvIG1hcmsgaXQgYXMgYSB3ZWxsLWhhbmRsZWQgUHJvbWlzZSB0b1xuIFx0XHRcdC8vIGF2b2lkIHRyaWdnZXJpbmcgdW5jYXVnaHQgZXhjZXB0aW9uIHdhcm5pbmcgaW4gQ2hyb21lLlxuIFx0XHRcdC8vIFNlZSBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NjU2NjZcbiBcdFx0XHRQcm9taXNlLnJlc29sdmUoKVxuIFx0XHRcdFx0LnRoZW4oZnVuY3Rpb24oKSB7XG4gXHRcdFx0XHRcdHJldHVybiBob3RBcHBseShob3RBcHBseU9uVXBkYXRlKTtcbiBcdFx0XHRcdH0pXG4gXHRcdFx0XHQudGhlbihcbiBcdFx0XHRcdFx0ZnVuY3Rpb24ocmVzdWx0KSB7XG4gXHRcdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShyZXN1bHQpO1xuIFx0XHRcdFx0XHR9LFxuIFx0XHRcdFx0XHRmdW5jdGlvbihlcnIpIHtcbiBcdFx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3QoZXJyKTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0KTtcbiBcdFx0fSBlbHNlIHtcbiBcdFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XG4gXHRcdFx0Zm9yICh2YXIgaWQgaW4gaG90VXBkYXRlKSB7XG4gXHRcdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhvdFVwZGF0ZSwgaWQpKSB7XG4gXHRcdFx0XHRcdG91dGRhdGVkTW9kdWxlcy5wdXNoKHRvTW9kdWxlSWQoaWQpKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShvdXRkYXRlZE1vZHVsZXMpO1xuIFx0XHR9XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdEFwcGx5KG9wdGlvbnMpIHtcbiBcdFx0aWYgKGhvdFN0YXR1cyAhPT0gXCJyZWFkeVwiKVxuIFx0XHRcdHRocm93IG5ldyBFcnJvcihcImFwcGx5KCkgaXMgb25seSBhbGxvd2VkIGluIHJlYWR5IHN0YXR1c1wiKTtcbiBcdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiBcdFx0dmFyIGNiO1xuIFx0XHR2YXIgaTtcbiBcdFx0dmFyIGo7XG4gXHRcdHZhciBtb2R1bGU7XG4gXHRcdHZhciBtb2R1bGVJZDtcblxuIFx0XHRmdW5jdGlvbiBnZXRBZmZlY3RlZFN0dWZmKHVwZGF0ZU1vZHVsZUlkKSB7XG4gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFt1cGRhdGVNb2R1bGVJZF07XG4gXHRcdFx0dmFyIG91dGRhdGVkRGVwZW5kZW5jaWVzID0ge307XG5cbiBcdFx0XHR2YXIgcXVldWUgPSBvdXRkYXRlZE1vZHVsZXMuc2xpY2UoKS5tYXAoZnVuY3Rpb24oaWQpIHtcbiBcdFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRcdGNoYWluOiBbaWRdLFxuIFx0XHRcdFx0XHRpZDogaWRcbiBcdFx0XHRcdH07XG4gXHRcdFx0fSk7XG4gXHRcdFx0d2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDApIHtcbiBcdFx0XHRcdHZhciBxdWV1ZUl0ZW0gPSBxdWV1ZS5wb3AoKTtcbiBcdFx0XHRcdHZhciBtb2R1bGVJZCA9IHF1ZXVlSXRlbS5pZDtcbiBcdFx0XHRcdHZhciBjaGFpbiA9IHF1ZXVlSXRlbS5jaGFpbjtcbiBcdFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0aWYgKCFtb2R1bGUgfHwgbW9kdWxlLmhvdC5fc2VsZkFjY2VwdGVkKSBjb250aW51ZTtcbiBcdFx0XHRcdGlmIChtb2R1bGUuaG90Ll9zZWxmRGVjbGluZWQpIHtcbiBcdFx0XHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdFx0XHR0eXBlOiBcInNlbGYtZGVjbGluZWRcIixcbiBcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4sXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkXG4gXHRcdFx0XHRcdH07XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAobW9kdWxlLmhvdC5fbWFpbikge1xuIFx0XHRcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0XHRcdHR5cGU6IFwidW5hY2NlcHRlZFwiLFxuIFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbixcbiBcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWRcbiBcdFx0XHRcdFx0fTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbW9kdWxlLnBhcmVudHMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRcdFx0dmFyIHBhcmVudElkID0gbW9kdWxlLnBhcmVudHNbaV07XG4gXHRcdFx0XHRcdHZhciBwYXJlbnQgPSBpbnN0YWxsZWRNb2R1bGVzW3BhcmVudElkXTtcbiBcdFx0XHRcdFx0aWYgKCFwYXJlbnQpIGNvbnRpbnVlO1xuIFx0XHRcdFx0XHRpZiAocGFyZW50LmhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0XHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdFx0XHRcdHR5cGU6IFwiZGVjbGluZWRcIixcbiBcdFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbi5jb25jYXQoW3BhcmVudElkXSksXG4gXHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXG4gXHRcdFx0XHRcdFx0XHRwYXJlbnRJZDogcGFyZW50SWRcbiBcdFx0XHRcdFx0XHR9O1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdGlmIChvdXRkYXRlZE1vZHVsZXMuaW5jbHVkZXMocGFyZW50SWQpKSBjb250aW51ZTtcbiBcdFx0XHRcdFx0aWYgKHBhcmVudC5ob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xuIFx0XHRcdFx0XHRcdGlmICghb3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdKVxuIFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdID0gW107XG4gXHRcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdLCBbbW9kdWxlSWRdKTtcbiBcdFx0XHRcdFx0XHRjb250aW51ZTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRkZWxldGUgb3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdO1xuIFx0XHRcdFx0XHRvdXRkYXRlZE1vZHVsZXMucHVzaChwYXJlbnRJZCk7XG4gXHRcdFx0XHRcdHF1ZXVlLnB1c2goe1xuIFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbi5jb25jYXQoW3BhcmVudElkXSksXG4gXHRcdFx0XHRcdFx0aWQ6IHBhcmVudElkXG4gXHRcdFx0XHRcdH0pO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH1cblxuIFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHR0eXBlOiBcImFjY2VwdGVkXCIsXG4gXHRcdFx0XHRtb2R1bGVJZDogdXBkYXRlTW9kdWxlSWQsXG4gXHRcdFx0XHRvdXRkYXRlZE1vZHVsZXM6IG91dGRhdGVkTW9kdWxlcyxcbiBcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzOiBvdXRkYXRlZERlcGVuZGVuY2llc1xuIFx0XHRcdH07XG4gXHRcdH1cblxuIFx0XHRmdW5jdGlvbiBhZGRBbGxUb1NldChhLCBiKSB7XG4gXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBiLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0XHR2YXIgaXRlbSA9IGJbaV07XG4gXHRcdFx0XHRpZiAoIWEuaW5jbHVkZXMoaXRlbSkpIGEucHVzaChpdGVtKTtcbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBhdCBiZWdpbiBhbGwgdXBkYXRlcyBtb2R1bGVzIGFyZSBvdXRkYXRlZFxuIFx0XHQvLyB0aGUgXCJvdXRkYXRlZFwiIHN0YXR1cyBjYW4gcHJvcGFnYXRlIHRvIHBhcmVudHMgaWYgdGhleSBkb24ndCBhY2NlcHQgdGhlIGNoaWxkcmVuXG4gXHRcdHZhciBvdXRkYXRlZERlcGVuZGVuY2llcyA9IHt9O1xuIFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XG4gXHRcdHZhciBhcHBsaWVkVXBkYXRlID0ge307XG5cbiBcdFx0dmFyIHdhcm5VbmV4cGVjdGVkUmVxdWlyZSA9IGZ1bmN0aW9uIHdhcm5VbmV4cGVjdGVkUmVxdWlyZSgpIHtcbiBcdFx0XHRjb25zb2xlLndhcm4oXG4gXHRcdFx0XHRcIltITVJdIHVuZXhwZWN0ZWQgcmVxdWlyZShcIiArIHJlc3VsdC5tb2R1bGVJZCArIFwiKSB0byBkaXNwb3NlZCBtb2R1bGVcIlxuIFx0XHRcdCk7XG4gXHRcdH07XG5cbiBcdFx0Zm9yICh2YXIgaWQgaW4gaG90VXBkYXRlKSB7XG4gXHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xuIFx0XHRcdFx0bW9kdWxlSWQgPSB0b01vZHVsZUlkKGlkKTtcbiBcdFx0XHRcdHZhciByZXN1bHQ7XG4gXHRcdFx0XHRpZiAoaG90VXBkYXRlW2lkXSkge1xuIFx0XHRcdFx0XHRyZXN1bHQgPSBnZXRBZmZlY3RlZFN0dWZmKG1vZHVsZUlkKTtcbiBcdFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHRcdHJlc3VsdCA9IHtcbiBcdFx0XHRcdFx0XHR0eXBlOiBcImRpc3Bvc2VkXCIsXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IGlkXG4gXHRcdFx0XHRcdH07XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHR2YXIgYWJvcnRFcnJvciA9IGZhbHNlO1xuIFx0XHRcdFx0dmFyIGRvQXBwbHkgPSBmYWxzZTtcbiBcdFx0XHRcdHZhciBkb0Rpc3Bvc2UgPSBmYWxzZTtcbiBcdFx0XHRcdHZhciBjaGFpbkluZm8gPSBcIlwiO1xuIFx0XHRcdFx0aWYgKHJlc3VsdC5jaGFpbikge1xuIFx0XHRcdFx0XHRjaGFpbkluZm8gPSBcIlxcblVwZGF0ZSBwcm9wYWdhdGlvbjogXCIgKyByZXN1bHQuY2hhaW4uam9pbihcIiAtPiBcIik7XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRzd2l0Y2ggKHJlc3VsdC50eXBlKSB7XG4gXHRcdFx0XHRcdGNhc2UgXCJzZWxmLWRlY2xpbmVkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25EZWNsaW5lZCkgb3B0aW9ucy5vbkRlY2xpbmVkKHJlc3VsdCk7XG4gXHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZURlY2xpbmVkKVxuIFx0XHRcdFx0XHRcdFx0YWJvcnRFcnJvciA9IG5ldyBFcnJvcihcbiBcdFx0XHRcdFx0XHRcdFx0XCJBYm9ydGVkIGJlY2F1c2Ugb2Ygc2VsZiBkZWNsaW5lOiBcIiArXG4gXHRcdFx0XHRcdFx0XHRcdFx0cmVzdWx0Lm1vZHVsZUlkICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRjaGFpbkluZm9cbiBcdFx0XHRcdFx0XHRcdCk7XG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHRcdGNhc2UgXCJkZWNsaW5lZFwiOlxuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRGVjbGluZWQpIG9wdGlvbnMub25EZWNsaW5lZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVEZWNsaW5lZClcbiBcdFx0XHRcdFx0XHRcdGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXG4gXHRcdFx0XHRcdFx0XHRcdFwiQWJvcnRlZCBiZWNhdXNlIG9mIGRlY2xpbmVkIGRlcGVuZGVuY3k6IFwiICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRyZXN1bHQubW9kdWxlSWQgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdFwiIGluIFwiICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRyZXN1bHQucGFyZW50SWQgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdGNoYWluSW5mb1xuIFx0XHRcdFx0XHRcdFx0KTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0Y2FzZSBcInVuYWNjZXB0ZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vblVuYWNjZXB0ZWQpIG9wdGlvbnMub25VbmFjY2VwdGVkKHJlc3VsdCk7XG4gXHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZVVuYWNjZXB0ZWQpXG4gXHRcdFx0XHRcdFx0XHRhYm9ydEVycm9yID0gbmV3IEVycm9yKFxuIFx0XHRcdFx0XHRcdFx0XHRcIkFib3J0ZWQgYmVjYXVzZSBcIiArIG1vZHVsZUlkICsgXCIgaXMgbm90IGFjY2VwdGVkXCIgKyBjaGFpbkluZm9cbiBcdFx0XHRcdFx0XHRcdCk7XG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHRcdGNhc2UgXCJhY2NlcHRlZFwiOlxuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uQWNjZXB0ZWQpIG9wdGlvbnMub25BY2NlcHRlZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGRvQXBwbHkgPSB0cnVlO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRjYXNlIFwiZGlzcG9zZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkRpc3Bvc2VkKSBvcHRpb25zLm9uRGlzcG9zZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRkb0Rpc3Bvc2UgPSB0cnVlO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRkZWZhdWx0OlxuIFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcIlVuZXhjZXB0aW9uIHR5cGUgXCIgKyByZXN1bHQudHlwZSk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAoYWJvcnRFcnJvcikge1xuIFx0XHRcdFx0XHRob3RTZXRTdGF0dXMoXCJhYm9ydFwiKTtcbiBcdFx0XHRcdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KGFib3J0RXJyb3IpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKGRvQXBwbHkpIHtcbiBcdFx0XHRcdFx0YXBwbGllZFVwZGF0ZVttb2R1bGVJZF0gPSBob3RVcGRhdGVbbW9kdWxlSWRdO1xuIFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZE1vZHVsZXMsIHJlc3VsdC5vdXRkYXRlZE1vZHVsZXMpO1xuIFx0XHRcdFx0XHRmb3IgKG1vZHVsZUlkIGluIHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llcykge1xuIFx0XHRcdFx0XHRcdGlmIChcbiBcdFx0XHRcdFx0XHRcdE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChcbiBcdFx0XHRcdFx0XHRcdFx0cmVzdWx0Lm91dGRhdGVkRGVwZW5kZW5jaWVzLFxuIFx0XHRcdFx0XHRcdFx0XHRtb2R1bGVJZFxuIFx0XHRcdFx0XHRcdFx0KVxuIFx0XHRcdFx0XHRcdCkge1xuIFx0XHRcdFx0XHRcdFx0aWYgKCFvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pXG4gXHRcdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSA9IFtdO1xuIFx0XHRcdFx0XHRcdFx0YWRkQWxsVG9TZXQoXG4gXHRcdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSxcbiBcdFx0XHRcdFx0XHRcdFx0cmVzdWx0Lm91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXVxuIFx0XHRcdFx0XHRcdFx0KTtcbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGlmIChkb0Rpc3Bvc2UpIHtcbiBcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWRNb2R1bGVzLCBbcmVzdWx0Lm1vZHVsZUlkXSk7XG4gXHRcdFx0XHRcdGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdID0gd2FyblVuZXhwZWN0ZWRSZXF1aXJlO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIFN0b3JlIHNlbGYgYWNjZXB0ZWQgb3V0ZGF0ZWQgbW9kdWxlcyB0byByZXF1aXJlIHRoZW0gbGF0ZXIgYnkgdGhlIG1vZHVsZSBzeXN0ZW1cbiBcdFx0dmFyIG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcyA9IFtdO1xuIFx0XHRmb3IgKGkgPSAwOyBpIDwgb3V0ZGF0ZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0bW9kdWxlSWQgPSBvdXRkYXRlZE1vZHVsZXNbaV07XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0aW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gJiZcbiBcdFx0XHRcdGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmhvdC5fc2VsZkFjY2VwdGVkXG4gXHRcdFx0KVxuIFx0XHRcdFx0b3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzLnB1c2goe1xuIFx0XHRcdFx0XHRtb2R1bGU6IG1vZHVsZUlkLFxuIFx0XHRcdFx0XHRlcnJvckhhbmRsZXI6IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmhvdC5fc2VsZkFjY2VwdGVkXG4gXHRcdFx0XHR9KTtcbiBcdFx0fVxuXG4gXHRcdC8vIE5vdyBpbiBcImRpc3Bvc2VcIiBwaGFzZVxuIFx0XHRob3RTZXRTdGF0dXMoXCJkaXNwb3NlXCIpO1xuIFx0XHRPYmplY3Qua2V5cyhob3RBdmFpbGFibGVGaWxlc01hcCkuZm9yRWFjaChmdW5jdGlvbihjaHVua0lkKSB7XG4gXHRcdFx0aWYgKGhvdEF2YWlsYWJsZUZpbGVzTWFwW2NodW5rSWRdID09PSBmYWxzZSkge1xuIFx0XHRcdFx0aG90RGlzcG9zZUNodW5rKGNodW5rSWQpO1xuIFx0XHRcdH1cbiBcdFx0fSk7XG5cbiBcdFx0dmFyIGlkeDtcbiBcdFx0dmFyIHF1ZXVlID0gb3V0ZGF0ZWRNb2R1bGVzLnNsaWNlKCk7XG4gXHRcdHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XG4gXHRcdFx0bW9kdWxlSWQgPSBxdWV1ZS5wb3AoKTtcbiBcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHRpZiAoIW1vZHVsZSkgY29udGludWU7XG5cbiBcdFx0XHR2YXIgZGF0YSA9IHt9O1xuXG4gXHRcdFx0Ly8gQ2FsbCBkaXNwb3NlIGhhbmRsZXJzXG4gXHRcdFx0dmFyIGRpc3Bvc2VIYW5kbGVycyA9IG1vZHVsZS5ob3QuX2Rpc3Bvc2VIYW5kbGVycztcbiBcdFx0XHRmb3IgKGogPSAwOyBqIDwgZGlzcG9zZUhhbmRsZXJzLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHRjYiA9IGRpc3Bvc2VIYW5kbGVyc1tqXTtcbiBcdFx0XHRcdGNiKGRhdGEpO1xuIFx0XHRcdH1cbiBcdFx0XHRob3RDdXJyZW50TW9kdWxlRGF0YVttb2R1bGVJZF0gPSBkYXRhO1xuXG4gXHRcdFx0Ly8gZGlzYWJsZSBtb2R1bGUgKHRoaXMgZGlzYWJsZXMgcmVxdWlyZXMgZnJvbSB0aGlzIG1vZHVsZSlcbiBcdFx0XHRtb2R1bGUuaG90LmFjdGl2ZSA9IGZhbHNlO1xuXG4gXHRcdFx0Ly8gcmVtb3ZlIG1vZHVsZSBmcm9tIGNhY2hlXG4gXHRcdFx0ZGVsZXRlIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuXG4gXHRcdFx0Ly8gd2hlbiBkaXNwb3NpbmcgdGhlcmUgaXMgbm8gbmVlZCB0byBjYWxsIGRpc3Bvc2UgaGFuZGxlclxuIFx0XHRcdGRlbGV0ZSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XG5cbiBcdFx0XHQvLyByZW1vdmUgXCJwYXJlbnRzXCIgcmVmZXJlbmNlcyBmcm9tIGFsbCBjaGlsZHJlblxuIFx0XHRcdGZvciAoaiA9IDA7IGogPCBtb2R1bGUuY2hpbGRyZW4ubGVuZ3RoOyBqKyspIHtcbiBcdFx0XHRcdHZhciBjaGlsZCA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlLmNoaWxkcmVuW2pdXTtcbiBcdFx0XHRcdGlmICghY2hpbGQpIGNvbnRpbnVlO1xuIFx0XHRcdFx0aWR4ID0gY2hpbGQucGFyZW50cy5pbmRleE9mKG1vZHVsZUlkKTtcbiBcdFx0XHRcdGlmIChpZHggPj0gMCkge1xuIFx0XHRcdFx0XHRjaGlsZC5wYXJlbnRzLnNwbGljZShpZHgsIDEpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIHJlbW92ZSBvdXRkYXRlZCBkZXBlbmRlbmN5IGZyb20gbW9kdWxlIGNoaWxkcmVuXG4gXHRcdHZhciBkZXBlbmRlbmN5O1xuIFx0XHR2YXIgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXM7XG4gXHRcdGZvciAobW9kdWxlSWQgaW4gb3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG1vZHVsZUlkKVxuIFx0XHRcdCkge1xuIFx0XHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0XHRpZiAobW9kdWxlKSB7XG4gXHRcdFx0XHRcdG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID0gb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0XHRmb3IgKGogPSAwOyBqIDwgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBqKyspIHtcbiBcdFx0XHRcdFx0XHRkZXBlbmRlbmN5ID0gbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXNbal07XG4gXHRcdFx0XHRcdFx0aWR4ID0gbW9kdWxlLmNoaWxkcmVuLmluZGV4T2YoZGVwZW5kZW5jeSk7XG4gXHRcdFx0XHRcdFx0aWYgKGlkeCA+PSAwKSBtb2R1bGUuY2hpbGRyZW4uc3BsaWNlKGlkeCwgMSk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBOb3QgaW4gXCJhcHBseVwiIHBoYXNlXG4gXHRcdGhvdFNldFN0YXR1cyhcImFwcGx5XCIpO1xuXG4gXHRcdGhvdEN1cnJlbnRIYXNoID0gaG90VXBkYXRlTmV3SGFzaDtcblxuIFx0XHQvLyBpbnNlcnQgbmV3IGNvZGVcbiBcdFx0Zm9yIChtb2R1bGVJZCBpbiBhcHBsaWVkVXBkYXRlKSB7XG4gXHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhcHBsaWVkVXBkYXRlLCBtb2R1bGVJZCkpIHtcbiBcdFx0XHRcdG1vZHVsZXNbbW9kdWxlSWRdID0gYXBwbGllZFVwZGF0ZVttb2R1bGVJZF07XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gY2FsbCBhY2NlcHQgaGFuZGxlcnNcbiBcdFx0dmFyIGVycm9yID0gbnVsbDtcbiBcdFx0Zm9yIChtb2R1bGVJZCBpbiBvdXRkYXRlZERlcGVuZGVuY2llcykge1xuIFx0XHRcdGlmIChcbiBcdFx0XHRcdE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvdXRkYXRlZERlcGVuZGVuY2llcywgbW9kdWxlSWQpXG4gXHRcdFx0KSB7XG4gXHRcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdGlmIChtb2R1bGUpIHtcbiBcdFx0XHRcdFx0bW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XG4gXHRcdFx0XHRcdHZhciBjYWxsYmFja3MgPSBbXTtcbiBcdFx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0XHRcdFx0ZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2ldO1xuIFx0XHRcdFx0XHRcdGNiID0gbW9kdWxlLmhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwZW5kZW5jeV07XG4gXHRcdFx0XHRcdFx0aWYgKGNiKSB7XG4gXHRcdFx0XHRcdFx0XHRpZiAoY2FsbGJhY2tzLmluY2x1ZGVzKGNiKSkgY29udGludWU7XG4gXHRcdFx0XHRcdFx0XHRjYWxsYmFja3MucHVzaChjYik7XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRcdFx0XHRjYiA9IGNhbGxiYWNrc1tpXTtcbiBcdFx0XHRcdFx0XHR0cnkge1xuIFx0XHRcdFx0XHRcdFx0Y2IobW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMpO1xuIFx0XHRcdFx0XHRcdH0gY2F0Y2ggKGVycikge1xuIFx0XHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25FcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0XHRcdG9wdGlvbnMub25FcnJvcmVkKHtcbiBcdFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcImFjY2VwdC1lcnJvcmVkXCIsXG4gXHRcdFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuIFx0XHRcdFx0XHRcdFx0XHRcdGRlcGVuZGVuY3lJZDogbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXNbaV0sXG4gXHRcdFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGVyclxuIFx0XHRcdFx0XHRcdFx0XHR9KTtcbiBcdFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVFcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0XHRcdGlmICghZXJyb3IpIGVycm9yID0gZXJyO1xuIFx0XHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIExvYWQgc2VsZiBhY2NlcHRlZCBtb2R1bGVzXG4gXHRcdGZvciAoaSA9IDA7IGkgPCBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHR2YXIgaXRlbSA9IG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlc1tpXTtcbiBcdFx0XHRtb2R1bGVJZCA9IGl0ZW0ubW9kdWxlO1xuIFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW21vZHVsZUlkXTtcbiBcdFx0XHR0cnkge1xuIFx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCk7XG4gXHRcdFx0fSBjYXRjaCAoZXJyKSB7XG4gXHRcdFx0XHRpZiAodHlwZW9mIGl0ZW0uZXJyb3JIYW5kbGVyID09PSBcImZ1bmN0aW9uXCIpIHtcbiBcdFx0XHRcdFx0dHJ5IHtcbiBcdFx0XHRcdFx0XHRpdGVtLmVycm9ySGFuZGxlcihlcnIpO1xuIFx0XHRcdFx0XHR9IGNhdGNoIChlcnIyKSB7XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25FcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XG4gXHRcdFx0XHRcdFx0XHRcdHR5cGU6IFwic2VsZi1hY2NlcHQtZXJyb3ItaGFuZGxlci1lcnJvcmVkXCIsXG4gXHRcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcbiBcdFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGVycjIsXG4gXHRcdFx0XHRcdFx0XHRcdG9yaWdpbmFsRXJyb3I6IGVyclxuIFx0XHRcdFx0XHRcdFx0fSk7XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVFcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0XHRpZiAoIWVycm9yKSBlcnJvciA9IGVycjI7XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRcdGlmICghZXJyb3IpIGVycm9yID0gZXJyO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XG4gXHRcdFx0XHRcdFx0XHR0eXBlOiBcInNlbGYtYWNjZXB0LWVycm9yZWRcIixcbiBcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcbiBcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnJcbiBcdFx0XHRcdFx0XHR9KTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdGlmICghZXJyb3IpIGVycm9yID0gZXJyO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gaGFuZGxlIGVycm9ycyBpbiBhY2NlcHQgaGFuZGxlcnMgYW5kIHNlbGYgYWNjZXB0ZWQgbW9kdWxlIGxvYWRcbiBcdFx0aWYgKGVycm9yKSB7XG4gXHRcdFx0aG90U2V0U3RhdHVzKFwiZmFpbFwiKTtcbiBcdFx0XHRyZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuIFx0XHR9XG5cbiBcdFx0aG90U2V0U3RhdHVzKFwiaWRsZVwiKTtcbiBcdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHtcbiBcdFx0XHRyZXNvbHZlKG91dGRhdGVkTW9kdWxlcyk7XG4gXHRcdH0pO1xuIFx0fVxuXG4gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuIFx0dmFyIGluc3RhbGxlZENodW5rcyA9IHtcbiBcdFx0MTogMFxuIFx0fTtcblxuIFx0dmFyIGRlZmVycmVkTW9kdWxlcyA9IFtdO1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fSxcbiBcdFx0XHRob3Q6IGhvdENyZWF0ZU1vZHVsZShtb2R1bGVJZCksXG4gXHRcdFx0cGFyZW50czogKGhvdEN1cnJlbnRQYXJlbnRzVGVtcCA9IGhvdEN1cnJlbnRQYXJlbnRzLCBob3RDdXJyZW50UGFyZW50cyA9IFtdLCBob3RDdXJyZW50UGFyZW50c1RlbXApLFxuIFx0XHRcdGNoaWxkcmVuOiBbXVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBob3RDcmVhdGVSZXF1aXJlKG1vZHVsZUlkKSk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL1wiO1xuXG4gXHQvLyBfX3dlYnBhY2tfaGFzaF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmggPSBmdW5jdGlvbigpIHsgcmV0dXJuIGhvdEN1cnJlbnRIYXNoOyB9O1xuXG4gXHR2YXIganNvbnBBcnJheSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucFwiXSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucFwiXSB8fCBbXTtcbiBcdHZhciBvbGRKc29ucEZ1bmN0aW9uID0ganNvbnBBcnJheS5wdXNoLmJpbmQoanNvbnBBcnJheSk7XG4gXHRqc29ucEFycmF5LnB1c2ggPSB3ZWJwYWNrSnNvbnBDYWxsYmFjaztcbiBcdGpzb25wQXJyYXkgPSBqc29ucEFycmF5LnNsaWNlKCk7XG4gXHRmb3IodmFyIGkgPSAwOyBpIDwganNvbnBBcnJheS5sZW5ndGg7IGkrKykgd2VicGFja0pzb25wQ2FsbGJhY2soanNvbnBBcnJheVtpXSk7XG4gXHR2YXIgcGFyZW50SnNvbnBGdW5jdGlvbiA9IG9sZEpzb25wRnVuY3Rpb247XG5cblxuIFx0Ly8gYWRkIGVudHJ5IG1vZHVsZSB0byBkZWZlcnJlZCBsaXN0XG4gXHRkZWZlcnJlZE1vZHVsZXMucHVzaChbMjcsMF0pO1xuIFx0Ly8gcnVuIGRlZmVycmVkIG1vZHVsZXMgd2hlbiByZWFkeVxuIFx0cmV0dXJuIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCk7XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXHJcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xyXG5pbXBvcnQgU2xpZGVyIGZyb20gJy4uL3NyYy9jb21wb25lbnRzL1NsaWRlcic7XHJcblxyXG5jb25zdCByb290RWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXBwJyk7XHJcblxyXG5SZWFjdERPTS5yZW5kZXIoXHJcbiAgICA8U2xpZGVyIC8+LFxyXG4gICAgcm9vdEVsXHJcbik7XHJcbiIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXJrZXIgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGxldCB7XHJcbiAgICAgICAgICAgIGNsc05hbWUsXHJcbiAgICAgICAgICAgIGNvbG9yLFxyXG4gICAgICAgICAgICBkZWZhdWx0TWFya2VyLFxyXG4gICAgICAgICAgICBwb3NpdGlvbixcclxuICAgICAgICAgICAgc2xpZGVyU2l6ZSxcclxuICAgICAgICAgICAgbWFya2VyU2l6ZSxcclxuICAgICAgICAgICAgbWFya2VyTnVtYmVyXHJcbiAgICAgICAgfSA9IHRoaXMucHJvcHM7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgbWFya2VyQ2VudGVyaW5nID0gKHNsaWRlclNpemUgLSBtYXJrZXJTaXplKSAqIDAuNTtcclxuXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJtYXJrZXIgcG9zaXRpb246IFwiICsgdGhpcy5wcm9wcy5wb3NpdGlvbik7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJtYXJrZXIgc2xpZGVyU2l6ZTogXCIgKyBzbGlkZXJTaXplKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIm1hcmtlciBtYXJrZXJTaXplOiBcIiArIG1hcmtlclNpemUpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwibWFya2VyQ2VudGVyaW5nOiBcIiArIG1hcmtlckNlbnRlcmluZyk7XHJcbiAgICAgICAgY29uc3QgbWFya2VyV3JhcHBlclN0eWxlcyA9IHtcclxuICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXHJcbiAgICAgICAgICAgIGxlZnQ6IGAke3Bvc2l0aW9ufSVgLFxyXG4gICAgICAgICAgICB0b3A6ICcwcHgnLFxyXG4gICAgICAgICAgICBib3R0b206IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgbWFyZ2luVG9wOiBgJHttYXJrZXJDZW50ZXJpbmd9cHhgLFxyXG4gICAgICAgICAgICBtYXJnaW5MZWZ0OiBgLSR7bWFya2VyU2l6ZSAqIDAuNX1weGAsXHJcbiAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICBkaXNwbGF5OiBwb3NpdGlvbiA9PT0gMCA/ICdub25lJyA6ICdibG9jaydcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMucHJvcHMuY3VzdG9tTWFya2VyKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRNYXJrZXJTdHlsZXMgPSB7XHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGNvbG9yLFxyXG4gICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnMTAwJScsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGAke21hcmtlclNpemV9cHhgLFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IGAke21hcmtlclNpemV9cHhgXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGRlZmF1bHRNYXJrZXIgPSA8ZGl2IHN0eWxlPXtkZWZhdWx0TWFya2VyU3R5bGVzfSAvPjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiAoIFxyXG4gICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake2Nsc05hbWV9LSR7bWFya2VyTnVtYmVyfS1tYXJrZXJgfVxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e21hcmtlcldyYXBwZXJTdHlsZXN9XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmN1c3RvbU1hcmtlcn1cclxuICAgICAgICAgICAgICAgIHtkZWZhdWx0TWFya2VyICYmIGRlZmF1bHRNYXJrZXJ9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuXHJcbk1hcmtlci5wcm9wVHlwZXMgPSB7XHJcbiAgICBjbHNOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxyXG4gICAgY29sb3I6IFByb3BUeXBlcy5zdHJpbmcsXHJcbiAgICBjdXN0b21NYXJrZXI6IFByb3BUeXBlcy5ub2RlLFxyXG4gICAgb2Zmc2V0TGVmdDogUHJvcFR5cGVzLm51bWJlcixcclxuICAgIG9mZnNldFRvcDogUHJvcFR5cGVzLm51bWJlcixcclxuICAgIHBvc2l0aW9uOiBQcm9wVHlwZXMubnVtYmVyLFxyXG4gICAgc2xpZGVyU2l6ZTogUHJvcFR5cGVzLm51bWJlcixcclxuICAgIG1hcmtlclNpemU6IFByb3BUeXBlcy5udW1iZXIsXHJcbiAgICBtYXJrZXJOdW1iZXI6IFByb3BUeXBlcy5udW1iZXJcclxufTtcclxuXHJcbk1hcmtlci5kZWZhdWx0UHJvcHMgPSB7XHJcbiAgICBjbHNOYW1lOiAnZHluYW1pYy1zbGlkZXInLFxyXG4gICAgcG9zaXRpb246IDAsXHJcbn07XHJcbiIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVHJhY2sgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGxldCB7IGxlbmd0aCwgY2xzTmFtZSB9ID0gdGhpcy5wcm9wcztcclxuICAgICAgICBcclxuICAgICAgICBsZXQgdHJhY2tTdHlsZXMgPSB7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhpcy5wcm9wcy5jb2xvcixcclxuICAgICAgICAgICAgZ2V0IHdpZHRoKCkgeyByZXR1cm4gIWxlbmd0aCA/ICcwJScgOiBgJHtsZW5ndGh9JWA7fSxcclxuICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXHJcbiAgICAgICAgICAgIGJvdHRvbTogMCxcclxuICAgICAgICAgICAgaGVpZ2h0OiAnMTAwJSdcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyh0cmFja1N0eWxlcyk7XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgIFxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtjbHNOYW1lfS10cmFja2B9IFxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3RyYWNrU3R5bGVzfSBcclxuICAgICAgICAgICAgLz5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcblxyXG5UcmFjay5wcm9wVHlwZXMgPSB7XHJcbiAgICBjbHNOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxyXG4gICAgY29sb3I6IFByb3BUeXBlcy5zdHJpbmcsXHJcbiAgICBsZW5ndGg6IFByb3BUeXBlcy5udW1iZXIsXHJcbn07XHJcblxyXG5UcmFjay5kZWZhdWx0UHJvcHMgPSB7XHJcbiAgICBjbHNOYW1lOiAnZHluYW1pYy1zbGlkZXInXHJcbn1cclxuIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRodW1iIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHJlbmRlcigpIHtcclxuXHJcbiAgICAgICAgbGV0IHtcclxuICAgICAgICAgICAgY2xzTmFtZSxcclxuICAgICAgICAgICAgY29sb3IsXHJcbiAgICAgICAgICAgIGRlZmF1bHRUaHVtYixcclxuICAgICAgICAgICAgcG9zaXRpb24sXHJcbiAgICAgICAgICAgIHNsaWRlclNpemUsXHJcbiAgICAgICAgICAgIHRodW1iU2l6ZVxyXG4gICAgICAgIH0gPSB0aGlzLnByb3BzO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhcInBvc2l0aW9uOiBcIiArIHRoaXMucHJvcHMucG9zaXRpb24pO1xyXG5cclxuICAgICAgICBjb25zdCB0aHVtYkNlbnRlcmluZyA9IChzbGlkZXJTaXplIC0gdGh1bWJTaXplKSAqIDAuNTtcclxuICAgICAgICBjb25zdCB0aHVtYldyYXBwZXJTdHlsZXMgPSB7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxyXG4gICAgICAgICAgICBsZWZ0OiBgJHtwb3NpdGlvbn0lYCxcclxuICAgICAgICAgICAgdG9wOiAnMHB4JyxcclxuICAgICAgICAgICAgYm90dG9tOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgIG1hcmdpblRvcDogYCR7dGh1bWJDZW50ZXJpbmd9cHhgLFxyXG4gICAgICAgICAgICBtYXJnaW5MZWZ0OiBgLSR7dGh1bWJTaXplICogMC41fXB4YCxcclxuICAgICAgICAgICAgbWFyZ2luQm90dG9tOiB1bmRlZmluZWRcclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmICghdGhpcy5wcm9wcy5jdXN0b21UaHVtYikge1xyXG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0VGh1bWJTdHlsZXMgPSB7XHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGNvbG9yLFxyXG4gICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnMTAwJScsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGAke3RodW1iU2l6ZX1weGAsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogYCR7dGh1bWJTaXplfXB4YFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBkZWZhdWx0VGh1bWIgPSA8ZGl2IHN0eWxlPXtkZWZhdWx0VGh1bWJTdHlsZXN9IC8+O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtjbHNOYW1lfS10aHVtYmB9IFxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3RodW1iV3JhcHBlclN0eWxlc31cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAge3RoaXMucHJvcHMuY3VzdG9tVGh1bWJ9XHJcbiAgICAgICAgICAgICAgICB7ZGVmYXVsdFRodW1iICYmIGRlZmF1bHRUaHVtYn1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5cclxuVGh1bWIucHJvcFR5cGVzID0ge1xyXG4gICAgY2xzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcclxuICAgIGNvbG9yOiBQcm9wVHlwZXMuc3RyaW5nLFxyXG4gICAgY3VzdG9tVGh1bWI6IFByb3BUeXBlcy5ub2RlLFxyXG4gICAgb2Zmc2V0TGVmdDogUHJvcFR5cGVzLm51bWJlcixcclxuICAgIG9mZnNldFRvcDogUHJvcFR5cGVzLm51bWJlcixcclxuICAgIHBvc2l0aW9uOiBQcm9wVHlwZXMubnVtYmVyLFxyXG4gICAgc2xpZGVyU2l6ZTogUHJvcFR5cGVzLm51bWJlcixcclxuICAgIHRodW1iU2l6ZTogUHJvcFR5cGVzLm51bWJlcixcclxufTtcclxuXHJcblRodW1iLmRlZmF1bHRQcm9wcyA9IHtcclxuICAgIGNsc05hbWU6ICdkeW5hbWljLXNsaWRlcicsXHJcbiAgICBwb3NpdGlvbjogMCxcclxufTtcclxuIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcclxuXHJcbmltcG9ydCBUaHVtYiBmcm9tICcuL1RodW1iJztcclxuaW1wb3J0IFRyYWNrIGZyb20gJy4vVHJhY2snO1xyXG5pbXBvcnQgTWFya2VyIGZyb20gJy4vTWFya2VyJztcclxuXHJcbmZ1bmN0aW9uIG5vb3AoKSB7fVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2xpZGVyIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIG1hcmtlckNvdW50OiAwLFxyXG4gICAgICAgICAgICBkcmFnOiBmYWxzZSxcclxuICAgICAgICAgICAgY3VycmVudFBvc2l0aW9uOiAwLFxyXG4gICAgICAgICAgICBwZXJjZW50OiAwLFxyXG4gICAgICAgICAgICBtYWluVGh1bWJWYWx1ZXM6IDAsXHJcbiAgICAgICAgICAgIHJhdGlvOiAyMCxcclxuICAgICAgICAgICAgbWFya2VyUG9zaXRpb25zOiBbXSxcclxuICAgICAgICAgICAgbWFya2VyUGVyY2VudHM6IFtdLFxyXG4gICAgICAgICAgICBtYXJrZXJWYWx1ZXM6IFtdLFxyXG4gICAgICAgICAgICBtYXJrZXJSYXRpb3M6IFtdLFxyXG4gICAgICAgICAgICBzdGVwOiAxLFxyXG4gICAgICAgICAgICBkeW5hbWljOiB0cnVlLFxyXG4gIFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMub25JbnRlcmFjdGlvblN0YXJ0ID0gdGhpcy5vbkludGVyYWN0aW9uU3RhcnQuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLm9uTW91c2VPclRvdWNoTW92ZSA9IHRoaXMub25Nb3VzZU9yVG91Y2hNb3ZlLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5vbkludGVyYWN0aW9uRW5kID0gdGhpcy5vbkludGVyYWN0aW9uRW5kLmJpbmQodGhpcyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcclxuICAgICAgICB0aGlzLnByb3BzVG9TdGF0ZSh0aGlzLnByb3BzKTtcclxuICAgIH1cclxuXHJcbiAgICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xyXG4gICAgICAgIHRoaXMucHJvcHNUb1N0YXRlKG5leHRQcm9wcyk7XHJcbiAgICB9XHJcblxyXG4gICAgb25JbnRlcmFjdGlvblN0YXJ0KGUpIHtcclxuICAgICAgICBjb25zdCBldmVudFR5cGUgPSAoZS50b3VjaGVzICE9PSB1bmRlZmluZWQgPyAndG91Y2gnIDogJ21vdXNlJyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXZlbnRUeXBlKTtcclxuICAgICAgICBjb25zdCBsZWZ0TW91c2VCdXR0b24gPSAwO1xyXG4gICAgICAgIGlmICgoZXZlbnRUeXBlID09PSAnbW91c2UnKSAmJiAoZS5idXR0b24gIT09IGxlZnRNb3VzZUJ1dHRvbikpIHsgcmV0dXJuOyB9XHJcbiAgICAgICAgdGhpcy51cGRhdGVTbGlkZXJWYWx1ZShlLCBldmVudFR5cGUpO1xyXG4gICAgICAgIGlmICghdGhpcy5zdGF0ZS5keW5hbWljKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBkcmFnOiB0cnVlIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmFkZEV2ZW50cyhldmVudFR5cGUpO1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkludGVyYWN0aW9uRW5kKCkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBkcmFnOiBmYWxzZSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlQ29tcGxldGUodGhpcy5zdGF0ZSk7XHJcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudHMoKTtcclxuICAgIH1cclxuXHJcbiAgICBvbk1vdXNlT3JUb3VjaE1vdmUoZSkge1xyXG4gICAgICAgIGNvbnN0IGV2ZW50VHlwZSA9IChlLnRvdWNoZXMgIT09IHVuZGVmaW5lZCA/ICd0b3VjaCcgOiAnbW91c2UnKTtcclxuICAgICAgICBpZiAoIXRoaXMuc3RhdGUuZHJhZykge3JldHVybjt9O1xyXG4gICAgICAgIHRoaXMudXBkYXRlU2xpZGVyVmFsdWUoZSwgZXZlbnRUeXBlKTtcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFNsaWRlckluZm8oKSB7XHJcbiAgICAgICAgY29uc3Qgc2wgPSB0aGlzLnJlZnMuc2xpZGVyO1xyXG4gICAgICAgIGNvbnN0IHNsaWRlckluZm8gPSB7XHJcbiAgICAgICAgICAgIGJvdW5kczogc2wuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXHJcbiAgICAgICAgICAgIGxlbmd0aDogc2wuY2xpZW50V2lkdGgsXHJcbiAgICAgICAgICAgIGhlaWdodDogc2wuY2xpZW50SGVpZ2h0LFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIHNsaWRlckluZm87XHJcbiAgICB9XHJcblxyXG4gICAgYWRkRXZlbnRzKHR5cGUpIHtcclxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSAnbW91c2UnOiB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uTW91c2VPclRvdWNoTW92ZSk7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vbkludGVyYWN0aW9uRW5kKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhc2UgJ3RvdWNoJzoge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5vbk1vdXNlT3JUb3VjaE1vdmUpO1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLm9uSW50ZXJhY3Rpb25FbmQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZGVmYXVsdDogLy9ub3RoaW5nXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZUV2ZW50cygpIHtcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uTW91c2VPclRvdWNoTW92ZSk7XHJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25JbnRlcmFjdGlvbkVuZCk7XHJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5vbk1vdXNlT3JUb3VjaE1vdmUpO1xyXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5vbkludGVyYWN0aW9uRW5kKTsgICAgXHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlU2xpZGVyVmFsdWUoZSwgZXZlbnRUeXBlKSB7XHJcbiAgICAgICAgY29uc3QgeyBtYXhWYWx1ZSwgbWluVmFsdWUsIGR5bmFtaWMgfSA9IHRoaXMuc3RhdGU7XHJcbiAgICAgICAgbGV0IHsgbWFpblRodW1iVmFsdWUgfSA9IHRoaXMuc3RhdGU7XHJcbiAgICAgICAgbGV0IHhDb29yZHM7XHJcblxyXG4gICAgICAgIGlmICghZHluYW1pYykge1xyXG4gICAgICAgICAgICB4Q29vcmRzID0gKGV2ZW50VHlwZSAhPT0gJ3RvdWNoJyA/IGUucGFnZVg6IGUudG91Y2hlc1swXS5wYWdlWCkgLSB3aW5kb3cucGFnZVhPZmZzZXQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgY3VycmVudFBvc2l0aW9uID0gdGhpcy5zdGF0ZS5jdXJyZW50UG9zaXRpb24gKyB0aGlzLmdldFNsaWRlckluZm8oKS5ib3VuZHMubGVmdDtcclxuICAgICAgICAgICAgbGV0IG1heFRodW1iQXJlYSA9IGN1cnJlbnRQb3NpdGlvbiArICh0aGlzLnN0YXRlLnRodW1iU2l6ZSAqIDAuNSk7XHJcbiAgICAgICAgICAgIGxldCBtaW5UaHVtYkFyZWEgPSBjdXJyZW50UG9zaXRpb24gLSAodGhpcy5zdGF0ZS50aHVtYlNpemUgKiAwLjUpO1xyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJtYXhUaHVtYkFyZWE6IFwiICsgbWF4VGh1bWJBcmVhKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJtaW5UaHVtYkFyZWE6IFwiICsgbWluVGh1bWJBcmVhKTtcclxuXHJcbiAgICAgICAgICAgIHhDb29yZHMgPSAoKGUucGFnZVggPj0gbWluVGh1bWJBcmVhKSAmJiAoZS5wYWdlWCA8PSBtYXhUaHVtYkFyZWEpID8gZS5wYWdlWCA6IHRoaXMuZ2V0U2xpZGVySW5mbygpLmJvdW5kcy5sZWZ0KSAtIHdpbmRvdy5wYWdlWE9mZnNldDtcclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZS5wYWdlWDogXCIgKyBlLnBhZ2VYKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJ4Q29vcmRzOiBcIiArIHhDb29yZHMpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKHhDb29yZHMgPT09ICh0aGlzLmdldFNsaWRlckluZm8oKS5ib3VuZHMubGVmdCAtIHdpbmRvdy5wYWdlWE9mZnNldCkpIHtcclxuICAgICAgICAgICAgICAgIGxldCBtYXJrUG9zaXRpb24gPSBlLnBhZ2VYIC0gd2luZG93LnBhZ2VYT2Zmc2V0O1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnN0YXRlLmRyYWcpIHt0aGlzLmFkZE1hcmtlcihtYXJrUG9zaXRpb24pO31cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBkcmFnOiB0cnVlIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGNvbXBhcmUgcG9zaXRpb24gdG8gc2xpZGVyIGxlbmd0aCB0byBnZXQgcGVyY2VudGFnZVxyXG4gICAgICAgIGxldCBsZW5ndGhPckhlaWdodDtcclxuICAgICAgICBsZXQgY3VycmVudFBvc2l0aW9uID0geENvb3JkcyAtIHRoaXMuZ2V0U2xpZGVySW5mbygpLmJvdW5kcy5sZWZ0O1xyXG4gICAgICAgIGxlbmd0aE9ySGVpZ2h0ID0gdGhpcy5nZXRTbGlkZXJJbmZvKCkubGVuZ3RoO1xyXG4gICAgICAgIGNvbnN0IHBlcmNlbnQgPSB0aGlzLmNsYW1wVmFsdWUoKyhjdXJyZW50UG9zaXRpb24gLyBsZW5ndGhPckhlaWdodCkudG9GaXhlZCgyKSwgMCwgMSk7XHJcbiAgICAgICAgLy8gY29udmVydCBwZXJjZW50IC0+IHZhbHVlIHRoZSBtYXRjaCB2YWx1ZSB0byBub3RjaCBhcyBwZXIgcHJvcHMvc3RhdGUuc3RlcFxyXG4gICAgICAgIGNvbnN0IHJhd1ZhbHVlID0gdGhpcy52YWx1ZUZyb21QZXJjZW50KHBlcmNlbnQpO1xyXG4gICAgICAgIG1haW5UaHVtYlZhbHVlID0gdGhpcy5jYWxjdWxhdGVNYXRjaGluZ05vdGNoKHJhd1ZhbHVlKTtcclxuICAgICAgICAvLyBhdm9pZCByZXBlYXRlZCB1cGRhdGVzIG9mIHRoZSBzYW1lIHZhbHVlXHJcbiAgICAgICAgaWYgKG1haW5UaHVtYlZhbHVlID09PSB0aGlzLnN0YXRlLm1haW5UaHVtYlZhbHVlcykge3JldHVybjt9XHJcbiAgICAgICAgLy8gcGVyY2VudGFnZSBvZiB0aGUgcmFuZ2UgdG8gcmVuZGVyIHRoZSB0cmFjay90aHVtYiB0b1xyXG4gICAgICAgIGxldCByYXRpbyA9IChtYWluVGh1bWJWYWx1ZSAtIG1pblZhbHVlKSAqIDEwMCAvIChtYXhWYWx1ZSAtIG1pblZhbHVlKTtcclxuICAgICAgICAvLyBmb3JjaW5nIHRoZSB0aHVtYiB0byB0aGUgbW9zdCBsZWZ0IG9mIHNsaWRlclxyXG4gICAgICAgIGlmIChyYXRpbyA9PT0gMSkge1xyXG4gICAgICAgICAgICByYXRpbyA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBwZXJjZW50LFxyXG4gICAgICAgICAgICBtYWluVGh1bWJWYWx1ZSxcclxuICAgICAgICAgICAgcmF0aW8sXHJcbiAgICAgICAgICAgIGN1cnJlbnRQb3NpdGlvblxyXG4gICAgICAgIH0sIHRoaXMuaGFuZGxlQ2hhbmdlKTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVDaGFuZ2UoKSB7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5vbkNoYW5nZSh0aGlzLnN0YXRlKTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVBZGRNYXJrZXIoKSB7XHJcbiAgICAgICAgbGV0IHsgbWluLCBtYXggfSA9IHRoaXMubWF4TWluTWFya2VyVmFsdWVzKCk7XHJcbiAgICAgICAgbGV0IHsgbG9ja1RvTWluTWFyaywgbG9ja1RvTWF4TWFyayB9ID0gdGhpcy5wcm9wcztcclxuICAgICAgICBcclxuICAgICAgICBpZiAobG9ja1RvTWluTWFyayA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLm1vdmVNYWluVGh1bWIobWluKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGxvY2tUb01heE1hcmsgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgdGhpcy5tb3ZlTWFpblRodW1iKG1heCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnByb3BzLm9uQWRkTWFya2VyKHRoaXMuc3RhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIG1heE1pbk1hcmtlclZhbHVlcygpe1xyXG4gICAgICAgIGNvbnN0IG1hcmtlclZhbHVlc0FycmF5ID0gdGhpcy5zdGF0ZS5tYXJrZXJWYWx1ZXMsXHJcbiAgICAgICAgICAgIG1hcmtlclBvc2l0aW9uc0FycmF5ID0gdGhpcy5zdGF0ZS5tYXJrZXJQb3NpdGlvbnMsXHJcbiAgICAgICAgICAgIG1hcmtlclJhdGlvc0FycmF5ID0gdGhpcy5zdGF0ZS5tYXJrZXJSYXRpb3MsXHJcbiAgICAgICAgICAgIG1hcmtlclBlcmNlbnRzQXJyYXkgPSB0aGlzLnN0YXRlLm1hcmtlclBlcmNlbnRzO1xyXG5cclxuICAgICAgICBsZXQgbWluVmFsdWVzVmFsID0gTWF0aC5taW4oLi4ubWFya2VyVmFsdWVzQXJyYXkpLFxyXG4gICAgICAgICAgICBtaW5Qb3NpdGlvbnNWYWwgPSBNYXRoLm1pbiguLi5tYXJrZXJQb3NpdGlvbnNBcnJheSksXHJcbiAgICAgICAgICAgIG1pblJhdGlvc1ZhbCA9IE1hdGgubWluKC4uLm1hcmtlclJhdGlvc0FycmF5KSxcclxuICAgICAgICAgICAgbWluUGVyY2VudHNWYWwgPSBNYXRoLm1pbiguLi5tYXJrZXJQZXJjZW50c0FycmF5KSxcclxuICAgICAgICAgICAgbWF4VmFsdWVzVmFsID0gTWF0aC5tYXgoLi4ubWFya2VyVmFsdWVzQXJyYXkpLFxyXG4gICAgICAgICAgICBtYXhQb3NpdGlvbnNWYWwgPSBNYXRoLm1heCguLi5tYXJrZXJQb3NpdGlvbnNBcnJheSksXHJcbiAgICAgICAgICAgIG1heFJhdGlvc1ZhbCA9IE1hdGgubWF4KC4uLm1hcmtlclJhdGlvc0FycmF5KSxcclxuICAgICAgICAgICAgbWF4UGVyY2VudHNWYWwgPSBNYXRoLm1heCguLi5tYXJrZXJQZXJjZW50c0FycmF5KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbWluIDoge1xyXG4gICAgICAgICAgICAgICAgdmFsdWVzOiBtaW5WYWx1ZXNWYWwsXHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbnM6IG1pblBvc2l0aW9uc1ZhbCxcclxuICAgICAgICAgICAgICAgIHJhdGlvczogbWluUmF0aW9zVmFsLFxyXG4gICAgICAgICAgICAgICAgcGVyY2VudHM6IG1pblBlcmNlbnRzVmFsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG1heCA6IHtcclxuICAgICAgICAgICAgICAgIHZhbHVlczogbWF4VmFsdWVzVmFsLFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb25zOiBtYXhQb3NpdGlvbnNWYWwsXHJcbiAgICAgICAgICAgICAgICByYXRpb3M6IG1heFJhdGlvc1ZhbCxcclxuICAgICAgICAgICAgICAgIHBlcmNlbnRzOiBtYXhQZXJjZW50c1ZhbFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBtb3ZlTWFpblRodW1iKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIG1haW5UaHVtYlZhbHVlOiB2YWx1ZS52YWx1ZXMsXHJcbiAgICAgICAgICAgIHBlcmNlbnQ6IHZhbHVlLnBlcmNlbnRzLFxyXG4gICAgICAgICAgICByYXRpbyA6IHZhbHVlLnJhdGlvcyxcclxuICAgICAgICAgICAgY3VycmVudFBvc2l0aW9uOiB2YWx1ZS5wb3NpdGlvbnNcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgdmFsdWVGcm9tUGVyY2VudChwZXJjZW50YWdlKSB7XHJcbiAgICAgICAgY29uc3QgeyByYW5nZSwgbWluVmFsdWUgfSA9IHRoaXMuc3RhdGU7XHJcbiAgICAgICAgY29uc3QgdmFsID0gKHJhbmdlICogcGVyY2VudGFnZSkgKyBtaW5WYWx1ZTtcclxuICAgICAgICByZXR1cm4gdmFsO1xyXG4gICAgfVxyXG5cclxuICAgIGNhbGN1bGF0ZU1hdGNoaW5nTm90Y2godmFsdWUpIHtcclxuICAgICAgICBjb25zdCB7IHN0ZXAsIG1heFZhbHVlLCBtaW5WYWx1ZSB9ID0gdGhpcy5zdGF0ZTtcclxuICAgICAgICBjb25zdCB2YWx1ZXMgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gbWluVmFsdWU7IGkgPD0gbWF4VmFsdWU7IGkrKykge1xyXG4gICAgICAgICAgICB2YWx1ZXMucHVzaChpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IG5vdGNoZXMgPSBbXTtcclxuICAgICAgICAvLyBmaW5kIGhvdyBtYW55IGVudHJpZXMgaW4gdmFsdWVzIGFyZSBkaXZpc2libGUgYnkgc3RlcCAoK21pbiwrbWF4KVxyXG4gICAgICAgIGZvciAoY29uc3QgcyBvZiB2YWx1ZXMpIHtcclxuICAgICAgICAgICAgaWYgKHMgPT09IG1pblZhbHVlIHx8IHMgPT09IG1heFZhbHVlIHx8IHMgJSBzdGVwID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBub3RjaGVzLnB1c2gocyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHJlZHVjZSBvdmVyIHRoZSBwb3RlbnRpYWwgbm90Y2hlcyBhbmQgZmluZCB3aGljaCBpcyB0aGUgY2xvc2VzdFxyXG4gICAgICAgIGNvbnN0IG1hdGNoID0gbm90Y2hlcy5yZWR1Y2UoKHByZXYsIGN1cnIpID0+IHtcclxuICAgICAgICAgICAgaWYgKE1hdGguYWJzKGN1cnIgLSB2YWx1ZSkgPCBNYXRoLmFicyhwcmV2IC0gdmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3VycjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcHJldjtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gbWF0Y2g7XHJcbiAgICB9XHJcblxyXG4gICAgY2xhbXBWYWx1ZSh2YWwsIG1pbiwgbWF4KSB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KG1pbiwgTWF0aC5taW4odmFsLCBtYXgpKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm9wc1RvU3RhdGUocHJvcHMpIHtcclxuICAgICAgICBsZXQgeyBcclxuICAgICAgICAgICAgbWFya2VyQ291bnQsXHJcbiAgICAgICAgICAgIG1hcmtlclZhbHVlcyxcclxuICAgICAgICAgICAgbWFya2VyUGVyY2VudHMsXHJcbiAgICAgICAgICAgIG1hcmtlclBvc2l0aW9ucyxcclxuICAgICAgICAgICAgbWFya2VyUmF0aW9zIFxyXG4gICAgICAgIH0gPSBwcm9wcztcclxuXHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcIm1hcmtlckNvdW50OiBcIiArIG1hcmtlckNvdW50KTtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKG1hcmtlclZhbHVlcyk7XHJcbiAgICAgICAgLy8gcHV0IHRoZSBoYW5kbENvdW50IGZpcnN0XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUubWFya2VyQ291bnQgIT09IG1hcmtlckNvdW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgbWFya2VyQ291bnQ6IG1hcmtlckNvdW50XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCBtYXJrZXJWYWx1ZXMgIT09IHVuZGVmaW5lZCB8fCBtYXJrZXJWYWx1ZXMubGVuZ3RoICE9PSAwKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWFya2VyQ291bnQ7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKG1hcmtlclZhbHVlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShwcmV2U3RhdGUgPT4gKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFya2VyVmFsdWVzOiBbLi4ucHJldlN0YXRlLm1hcmtlclZhbHVlcywgbWFya2VyVmFsdWVzW2ldXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFya2VyUmF0aW9zOiBbLi4ucHJldlN0YXRlLm1hcmtlclJhdGlvcywgbWFya2VyUmF0aW9zW2ldXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFya2VyUGVyY2VudHM6IFsuLi5wcmV2U3RhdGUubWFya2VyUGVyY2VudHMsIG1hcmtlclBlcmNlbnRzW2ldXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFya2VyUG9zaXRpb25zOiBbLi4ucHJldlN0YXRlLm1hcmtlclBvc2l0aW9ucywgbWFya2VyUG9zaXRpb25zW2ldXVxyXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShwcmV2U3RhdGUgPT4gKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFya2VyVmFsdWVzOiBbLi4ucHJldlN0YXRlLm1hcmtlclZhbHVlcywgLi4uWzBdXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFya2VyUmF0aW9zOiBbLi4ucHJldlN0YXRlLm1hcmtlclJhdGlvcywgLi4uWzBdXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFya2VyUGVyY2VudHM6IFsuLi5wcmV2U3RhdGUubWFya2VyUGVyY2VudHMsIC4uLlswXV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlclBvc2l0aW9uczogWy4uLnByZXZTdGF0ZS5tYXJrZXJQb3NpdGlvbnMsIC4uLlswXV1cclxuICAgICAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCB7IG1hcmtlclNpemUsIHRodW1iU2l6ZSwgc2xpZGVyU2l6ZSB9ID0gcHJvcHM7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcInRodW1iU2l6ZTogXCIgKyB0aHVtYlNpemUpO1xyXG4gICAgICAgIGlmIChwcm9wcy50aHVtYlNpemUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwic2xpZGVyU2l6ZTogXCIgKyBzbGlkZXJTaXplKTtcclxuICAgICAgICAgICAgdGh1bWJTaXplID0gKHRoaXMucHJvcHMuZGlzYWJsZVRodW1iID8gMCA6IHNsaWRlclNpemUgKiAyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHByb3BzLm1hcmtlclNpemUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBtYXJrZXJTaXplID0gc2xpZGVyU2l6ZSAqIDAuNTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcInRodW1iU2l6ZSBhZnRlcjogXCIgKyB0aHVtYlNpemUpO1xyXG5cclxuICAgICAgICBjb25zdCB7IG1pblZhbHVlLCBtYXhWYWx1ZSwgaWQgfSA9IHByb3BzO1xyXG4gICAgICAgIGNvbnN0IHJhbmdlID0gbWF4VmFsdWUgLSBtaW5WYWx1ZTtcclxuICAgICAgICAvLyBjb25zdCBjaGVja1ZhbCA9IG1hcmtlclZhbHVlc1swXSA9PT0gdW5kZWZpbmVkID8gMCA6IG1hcmtlclZhbHVlc1swXTtcclxuICAgICAgICBjb25zdCByYXRpbyA9IE1hdGgubWF4KCh0aGlzLnN0YXRlLm1haW5UaHVtYlZhbHVlIC0gbWluVmFsdWUpLCAwKSAqIDEwMCAvIChtYXhWYWx1ZSAtIG1pblZhbHVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShwcmV2U3RhdGUgPT4gKHtcclxuICAgICAgICAgICAgbWluVmFsdWUsXHJcbiAgICAgICAgICAgIG1heFZhbHVlLFxyXG4gICAgICAgICAgICByYW5nZSxcclxuICAgICAgICAgICAgcmF0aW8sXHJcbiAgICAgICAgICAgIHRodW1iU2l6ZSxcclxuICAgICAgICAgICAgbWFya2VyU2l6ZSxcclxuICAgICAgICAgICAgaWRcclxuICAgICAgICB9KSk7ICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBhZGRNYXJrZXIobWFya2VyUG9zaXRpb24pIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIiFNQVJLIFNUQVJUIVwiKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImFkZE1hcmtlciBtYXJrZXJQb3NpdGlvbjogXCIgKyBtYXJrZXJQb3NpdGlvbik7XHJcblxyXG4gICAgICAgIC8vIGNvbXBhcmUgcG9zaXRpb24gdG8gc2xpZGVyIGxlbmd0aCB0byBnZXQgcGVyY2VudGFnZVxyXG4gICAgICAgIGxldCBjdXJyZW50UG9zaXRpb24gPSBtYXJrZXJQb3NpdGlvbiAtIHRoaXMuZ2V0U2xpZGVySW5mbygpLmJvdW5kcy5sZWZ0LFxyXG4gICAgICAgICAgICBsZW5ndGhPckhlaWdodCAgPSB0aGlzLmdldFNsaWRlckluZm8oKS5sZW5ndGg7XHJcblxyXG4gICAgICAgIGNvbnN0IHBlcmNlbnQgICAgICAgPSB0aGlzLmNsYW1wVmFsdWUoKyhjdXJyZW50UG9zaXRpb24gLyBsZW5ndGhPckhlaWdodCkudG9GaXhlZCgyKSwgMCwgMSk7XHJcbiAgICAgICAgY29uc3QgcmF3VmFsdWUgICAgICA9IHRoaXMudmFsdWVGcm9tUGVyY2VudChwZXJjZW50KTtcclxuICAgICAgICBjb25zdCBtYXJrZXJWYWx1ZSAgID0gdGhpcy5jYWxjdWxhdGVNYXRjaGluZ05vdGNoKHJhd1ZhbHVlKTtcclxuXHJcbiAgICAgICAgLy8gcHV0IG1hcmtlciBzdGF0ZSBhcnJheSBpbnRvIGFycmF5IHZhcmlhYmxlXHJcbiAgICAgICAgbGV0IG1hcmtlckFycmF5ICAgICA9IHRoaXMuc3RhdGUubWFya2VyVmFsdWVzO1xyXG5cclxuICAgICAgICAvLyBnZXQgc2xpZGVyJ3MgbWF4IGFuZCBtaW4gdmFsdWVcclxuICAgICAgICBjb25zdCB7IG1heFZhbHVlLCBtaW5WYWx1ZSB9ID0gdGhpcy5zdGF0ZTtcclxuXHJcbiAgICAgICAgLy8gYXZvaWQgcmVwZWF0ZWQgdXBkYXRlcyBvZiB0aGUgc2FtZSB2YWx1ZVxyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgICAgbWFya2VyVmFsdWUgPT09IHRoaXMuc3RhdGUubWFpblRodW1iVmFsdWVzIHx8XHJcbiAgICAgICAgICAgIG1hcmtlclZhbHVlID09PSBtYXJrZXJBcnJheS5pbmNsdWRlcyhtYXJrZXJWYWx1ZSlcclxuICAgICAgICApIHsgcmV0dXJuOyB9XHJcblxyXG4gICAgICAgIC8vIGNoZWNrIGlmIG1hcmtlciBpcyBtb3JlIHRoYW4gbWFya2VyQ291bnQsIGlmIGl0IGlzIGEgeWVzLCBcclxuICAgICAgICAvLyB1c2UgaW1tdXRhYmxlIHNoaWZ0IGZvciBGSUZPIDogKGFyci5zbGljZSgxKSlcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnN0YXRlLm1hcmtlclZhbHVlcy5sZW5ndGgpO1xyXG5cclxuICAgICAgICAvLyBwZXJjZW50YWdlIG9mIHRoZSByYW5nZSB0byByZW5kZXIgdGhlIHRyYWNrL3RodW1iIHRvXHJcbiAgICAgICAgY29uc3QgcmF0aW8gPSAobWFya2VyVmFsdWUgLSBtaW5WYWx1ZSkgKiAxMDAgLyAobWF4VmFsdWUgLSBtaW5WYWx1ZSk7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSgocHJldlN0YXRlLCBwcm9wcykgPT4ge1xyXG5cclxuICAgICAgICAgICAgaWYgKHByZXZTdGF0ZS5tYXJrZXJWYWx1ZXMubGVuZ3RoID49IHByZXZTdGF0ZS5tYXJrZXJDb3VudCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG5ld1ZhbHVlc0FyciA9IHRoaXMuc3RhdGUubWFya2VyVmFsdWVzLnNsaWNlKDEpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ld1JhdGlvc0FyciA9IHRoaXMuc3RhdGUubWFya2VyUmF0aW9zLnNsaWNlKDEpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ld1BlcmNzQXJyICA9IHRoaXMuc3RhdGUubWFya2VyUGVyY2VudHMuc2xpY2UoMSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3UG9zQXJyICAgID0gdGhpcy5zdGF0ZS5tYXJrZXJQb3NpdGlvbnMuc2xpY2UoMSk7XHJcbiAgICAgICAgICAgIH0gXHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBwZXJjZW50LFxyXG4gICAgICAgICAgICAgICAgbWFya2VyVmFsdWVzIDogbmV3VmFsdWVzQXJyID8gWy4uLm5ld1ZhbHVlc0FyciwgbWFya2VyVmFsdWVdIDogWy4uLnByZXZTdGF0ZS5tYXJrZXJWYWx1ZXMsIG1hcmtlclZhbHVlXSxcclxuICAgICAgICAgICAgICAgIG1hcmtlclJhdGlvcyA6IG5ld1JhdGlvc0FyciA/IFsuLi5uZXdSYXRpb3NBcnIsIHJhdGlvXSA6IFsuLi5wcmV2U3RhdGUubWFya2VyUmF0aW9zLCByYXRpb10sXHJcbiAgICAgICAgICAgICAgICBtYXJrZXJQb3NpdGlvbnMgOiBuZXdQb3NBcnIgPyBbLi4ubmV3UG9zQXJyLCBjdXJyZW50UG9zaXRpb25dIDogWy4uLnByZXZTdGF0ZS5tYXJrZXJQb3NpdGlvbnMsIGN1cnJlbnRQb3NpdGlvbl0sXHJcbiAgICAgICAgICAgICAgICBtYXJrZXJQZXJjZW50cyA6IG5ld1BlcmNzQXJyID8gWy4uLm5ld1BlcmNzQXJyLCBwZXJjZW50XSA6IFsuLi5wcmV2U3RhdGUubWFya2VyUGVyY2VudHMsIHBlcmNlbnRdXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIH0sIHRoaXMuaGFuZGxlQWRkTWFya2VyKTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5zdGF0ZS5tYXJrZXJWYWx1ZXMpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiYWRkTWFya2VyIFJhdGlvOiBcIiArIHJhdGlvKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc3RhdGUubWFya2VyVmFsdWVzKTtcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnN0YXRlLm1hcmtlclBvc2l0aW9ucyk7XHJcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5zdGF0ZS5tYXJrZXJQZXJjZW50cyk7XHJcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5zdGF0ZS5tYXJrZXJSYXRpb3MpO1xyXG4gICAgICAgIGNvbnN0IHtcclxuICAgICAgICAgICAgY2xzTmFtZSxcclxuICAgICAgICAgICAgdmVydGljYWwsXHJcbiAgICAgICAgICAgIHNsaWRlclNpemUsXHJcbiAgICAgICAgICAgIGRpc2FibGVUaHVtYixcclxuICAgICAgICAgICAgZGlzYWJsZVRyYWNrLFxyXG4gICAgICAgICAgICBjaGlsZHJlbixcclxuICAgICAgICAgICAgbGFiZWwsXHJcbiAgICAgICAgICAgIHRyYWNrQ29sb3IsXHJcbiAgICAgICAgICAgIHRodW1iQ29sb3IsXHJcbiAgICAgICAgICAgIHZlcnRpY2FsU2xpZGVySGVpZ2h0LFxyXG4gICAgICAgICAgICBldmVudFdyYXBwZXJQYWRkaW5nXHJcbiAgICAgICAgfSA9IHRoaXMucHJvcHM7XHJcblxyXG4gICAgICAgIC8vY29uc29sZS5sb2codGhpcy5wcm9wcyk7XHJcbiAgICAgICAgY29uc3QgZXZlbnRXcmFwcGVyU3R5bGUgPSB7XHJcbiAgICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxyXG4gICAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcclxuICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXHJcbiAgICAgICAgICAgIG1hcmdpbjogJzAgYXV0bycsXHJcbiAgICAgICAgICAgIGdldCBwYWRkaW5nKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICF2ZXJ0aWNhbCA/IGAke2V2ZW50V3JhcHBlclBhZGRpbmd9cHggMGAgOiBgMCAke2V2ZW50V3JhcHBlclBhZGRpbmd9cHhgO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBnZXQgd2lkdGgoKSB7IHJldHVybiAhdmVydGljYWwgPyAnYXV0bycgOiBgJHtzbGlkZXJTaXplfXB4YDt9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCBzbGlkZXJTdHlsZSA9IHtcclxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGlzLnByb3BzLnNsaWRlckNvbG9yLFxyXG4gICAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcclxuICAgICAgICAgICAgb3ZlcmZsb3c6ICd2aXNpYmxlJyxcclxuICAgICAgICAgICAgZ2V0IGhlaWdodCgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAhdmVydGljYWwgPyBgJHtzbGlkZXJTaXplfXB4YCA6IHZlcnRpY2FsU2xpZGVySGVpZ2h0O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBnZXQgd2lkdGgoKSB7IHJldHVybiAhdmVydGljYWwgPyAnMTAwJScgOiBgJHtzbGlkZXJTaXplfXB4YDt9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gKCBcclxuICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtjbHNOYW1lfS1zbGlkZXJgfVxyXG4gICAgICAgICAgICAgICAgb25Nb3VzZURvd249e3RoaXMub25JbnRlcmFjdGlvblN0YXJ0fVxyXG4gICAgICAgICAgICAgICAgb25Ub3VjaFN0YXJ0PXt0aGlzLm9uSW50ZXJhY3Rpb25TdGFydH1cclxuICAgICAgICAgICAgICAgIHN0eWxlPXtldmVudFdyYXBwZXJTdHlsZX1cclxuXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake2Nsc05hbWV9LWxpbmVgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlZj1cInNsaWRlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3NsaWRlclN0eWxlfVxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxUcmFja1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcj17dHJhY2tDb2xvcn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGVuZ3RoPXt0aGlzLnN0YXRlLnJhdGlvfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNhbD17dmVydGljYWx9XHJcbiAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICA8VGh1bWJcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I9e3RodW1iQ29sb3J9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbVRodW1iPXtjaGlsZHJlbn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVRodW1iPXtkaXNhYmxlVGh1bWJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uPXt0aGlzLnN0YXRlLnJhdGlvfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXJTaXplPXtzbGlkZXJTaXplfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHVtYlNpemU9e3RoaXMuc3RhdGUudGh1bWJTaXplfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS52YWx1ZX1cclxuICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5tYXJrZXJQb3NpdGlvbnMubGVuZ3RoID4gMCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5tYXJrZXJWYWx1ZXMubWFwKChtYXJrZXJWYWx1ZSwgaW5kZXgpID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TWFya2VyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcj0neWVsbG93J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpbmRleH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlck51bWJlcj17aW5kZXh9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXJTaXplPXt0aGlzLnN0YXRlLm1hcmtlclNpemV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbj17bWFya2VyVmFsdWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXJTaXplPXtzbGlkZXJTaXplfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbi8vIERldGVybWluZSB0aGUgcHJvcFR5cGVzIGFuZCBpdHMgZGVmYXVsdCB2YWx1ZShzKVxyXG5cclxuU2xpZGVyLnByb3BUeXBlcyA9IHtcclxuICAgIGNsc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXHJcbiAgICBkeW5hbWljOiBQcm9wVHlwZXMuYm9vbCxcclxuICAgIG1hcmtlckNvdW50OiBQcm9wVHlwZXMubnVtYmVyLFxyXG4gICAgbWluVmFsdWU6IFByb3BUeXBlcy5udW1iZXIsXHJcbiAgICBtYXhWYWx1ZTogUHJvcFR5cGVzLm51bWJlcixcclxuICAgIC8vIG1hcmtlclZhbHVlczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm51bWJlciksXHJcbiAgICBvbkNoYW5nZTogUHJvcFR5cGVzLmZ1bmMsXHJcbiAgICBvbkNoYW5nZUNvbXBsZXRlOiBQcm9wVHlwZXMuZnVuYyxcclxuICAgIG9uQWRkTWFya2VyOiBQcm9wVHlwZXMuZnVuYyxcclxuICAgIGlkOiBQcm9wVHlwZXMuc3RyaW5nLFxyXG4gICAgc2xpZGVyQ29sb3I6IFByb3BUeXBlcy5zdHJpbmcsXHJcbiAgICB0cmFja0NvbG9yOiBQcm9wVHlwZXMuc3RyaW5nLFxyXG4gICAgdGh1bWJDb2xvcjogUHJvcFR5cGVzLnN0cmluZyxcclxuICAgIGRpc2FibGVUaHVtYjogUHJvcFR5cGVzLmJvb2wsXHJcbiAgICBtYWluVGh1bWJWYWx1ZTogUHJvcFR5cGVzLm51bWJlcixcclxuICAgIGxvY2tUb01pbk1hcms6IFByb3BUeXBlcy5ib29sLFxyXG4gICAgbG9ja1RvTWF4TWFyazogUHJvcFR5cGVzLmJvb2xcclxufTtcclxuXHJcblNsaWRlci5kZWZhdWx0UHJvcHMgPSB7XHJcbiAgICBjbHNOYW1lOiBcImR5bmFtaWMtc2xpZGVyXCIsXHJcbiAgICBtYXJrZXJDb3VudDogMixcclxuICAgIG1pblZhbHVlOiAwLFxyXG4gICAgbWF4VmFsdWU6IDEwMCxcclxuICAgIG1hcmtlclZhbHVlczogW10sXHJcbiAgICBtYXJrZXJSYXRpb3M6IFtdLFxyXG4gICAgbWFya2VyUG9zaXRpb25zOiBbXSxcclxuICAgIG1hcmtlclBlcmNlbnRzOiBbXSxcclxuICAgIG9uQ2hhbmdlOiBub29wLFxyXG4gICAgb25DaGFuZ2VDb21wbGV0ZTogbm9vcCxcclxuICAgIG9uQWRkTWFya2VyOiBub29wLFxyXG4gICAgc2xpZGVyQ29sb3I6ICdibHVlJyxcclxuICAgIHRyYWNrQ29sb3I6ICdncmVlbicsXHJcbiAgICB0aHVtYkNvbG9yOiAncmVkJyxcclxuICAgIGlkOiBudWxsLFxyXG4gICAgZGlzYWJsZVRodW1iOiBmYWxzZSxcclxuICAgIHNsaWRlclNpemU6IDMwLFxyXG4gICAgbWFpblRodW1iVmFsdWU6IDAsXHJcbiAgICBsb2NrVG9NaW5NYXJrIDogdHJ1ZSxcclxuICAgIGxvY2tUb01heE1hcmsgOiBmYWxzZVxyXG59O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9